{"version":3,"sources":["webpack:///src/frontend/app/installer/customization/customization.component.html","webpack:///src/frontend/app/installer/database/database.component.scss","webpack:///src/frontend/app/installer/mailserver/mailserver.component.ts","webpack:///src/frontend/app/installer/welcome/welcome.component.scss","webpack:///src/frontend/app/installer/installer.module.ts","webpack:///src/frontend/app/installer/database/database.component.ts","webpack:///src/frontend/app/installer/docservers/docservers.component.ts","webpack:///src/frontend/app/installer/mailserver/mailserver.component.html","webpack:///src/frontend/app/installer/welcome/welcome.component.ts","webpack:///src/frontend/app/installer/customization/customization.component.ts","webpack:///src/frontend/app/installer/useradmin/useradmin.component.html","webpack:///src/frontend/app/installer/install-action/install-action.component.ts","webpack:///src/frontend/app/installer/installer.component.ts","webpack:///src/frontend/app/installer/customization/customization.component.scss","webpack:///src/frontend/app/installer/useradmin/useradmin.component.ts","webpack:///src/frontend/app/installer/installer-routing.module.ts","webpack:///src/frontend/app/installer/installer.service.ts","webpack:///src/frontend/app/installer/installer.component.scss","webpack:///src/frontend/app/installer/docservers/docservers.component.scss","webpack:///src/frontend/app/installer/prerequisite/prerequisite.component.ts","webpack:///src/frontend/app/installer/install-action/install-action.component.html","webpack:///src/frontend/app/installer/prerequisite/prerequisite.component.scss","webpack:///src/frontend/app/installer/database/database.component.html","webpack:///src/frontend/app/installer/useradmin/useradmin.component.scss","webpack:///src/frontend/app/installer/prerequisite/prerequisite.component.html","webpack:///src/frontend/app/installer/mailserver/mailserver.component.scss","webpack:///src/frontend/app/installer/installer.component.html","webpack:///src/frontend/app/installer/docservers/docservers.component.html","webpack:///src/frontend/app/installer/install-action/install-action.component.scss","webpack:///src/frontend/app/installer/welcome/welcome.component.html"],"names":["MailserverComponent","translate","_formBuilder","notify","http","installerService","hidePassword","recipientTest","emailSendLoading","emailSendResult","msg","debug","smtpTypeList","id","label","instant","smtpSecList","valEmail","pattern","required","stepFormGroup","group","firstCtrl","type","host","auth","user","password","secure","port","charset","from","valueChanges","subscribe","checkMailserverContent","opened","close","icon","controls","pipe","data","indexOf","disable","enable","value","email","get","err","console","log","error","errors","isStepAlreadyLaunched","undefined","valid","selector","template","InstallerModule","setDefaultLang","imports","declarations","entryComponents","providers","DatabaseComponent","functionsService","hide","connectionState","dbExist","dataFiles","nextStep","valDbName","valLoginDb","dbHostCtrl","dbLoginCtrl","dbPortCtrl","dbPasswordCtrl","dbNameCtrl","dbSampleCtrl","stateStep","setValue","getDataFiles","handleSoftErrors","info","server","name","observe","params","status","success","emit","markAllAsTouched","invalid","idStep","body","route","method","url","description","installPriority","DocserversComponent","valPath","docserversPath","path","WelcomeComponent","authService","langs","appVersion","VERSION","split","steps","desc","customs","lang","getLang","noInstall","getCustoms","Object","keys","filter","use","CustomizationComponent","sanitizer","scanPipe","readonlyState","backgroundList","valIdentifier","customId","appName","loginMessage","homeMessage","bodyLoginBackground","uploadedLogo","Array","length","map","_","i","filename","checkCustomExist","appDatabase","getInfoToInstall","tinymce","remove","initMce","response","customExist","regex","match","setErrors","markAsTouched","readonly","init","base_url","height","suffix","language","replace","language_url","menubar","statusbar","plugins","external_plugins","toolbar_sticky","toolbar_drawer","toolbar","appWelcome","applicationName","getContent","logo","fileInput","mode","target","files","res","canUploadFile","reader","FileReader","readAsDataURL","onload","result","img","Image","imgDim","width","value1","push","src","file","allowedExtension","size","join","bypassSecurityTrustUrl","content","disabled","uploadLogo","click","InstallActionComponent","dialogRef","disableAnimation","initSteps","setTimeout","index","state","doStep","forEach","step","msgErr","Promise","resolve","reject","toLowerCase","setStep","request","window","location","href","InstallerComponent","router","headerService","appService","sortPipe","dialog","functionService","privilegeService","loading","hideSideBar","isAuth","navigate","getToken","hasCurrentUserPrivilege","$","insertBefore","css","ev","stepContent","toArray","selectedIndex","initStep","stepper","next","installContent","component","concat","transform","open","panelClass","disableClose","afterClosed","empty","handleErrors","provide","useValue","showError","UseradminComponent","tiggerInstall","valLogin","login","firstname","lastname","passwordConfirm","routes","InstallerRoutingModule","forChild","exports","InstallerService","IdsStep","PrerequisiteComponent","prerequisites","packagesList","general","tools","phpExtensions","phpConfiguration","docMaarchUrl","getStepData","item","key","setTranslation","getDefaultLang","install_phpVersionValid_desc","checkStep","markAsUntouched","packageItem","itemKo","_elementRef","nativeElement","toggle"],"mappings":"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","file":"installer-installer-module-es5.js","sourcesContent":["export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\"><i class=\\\"fas fa-tools\\\"></i> {{'lang.customization' | translate}}</h2>\\r\\n    <div class=\\\"alert-message alert-message-info\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\">\\r\\n        {{'lang.stepCustomization_desc' | translate}}\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"stepFormGroup\\\" style=\\\"display: contents;\\\">\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <mat-form-field appearance=\\\"outline\\\">\\r\\n                <mat-label>{{'lang.instanceId' | translate}}</mat-label>\\r\\n                <input matInput formControlName=\\\"customId\\\">\\r\\n                <mat-error>\\r\\n                    <ng-container *ngIf=\\\"stepFormGroup.controls['customId'].errors?.customExist\\\">\\r\\n                        {{'lang.customAlreadyExist' | translate}}\\r\\n                    </ng-container>\\r\\n                    <ng-container *ngIf=\\\"stepFormGroup.controls['customId'].errors?.pattern\\\">\\r\\n                        {{'lang.onlySpecialCharAllowed' | translate:{value1: '\\\"_\\\", \\\"-\\\"'} }}\\r\\n                    </ng-container>\\r\\n                </mat-error>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field appearance=\\\"outline\\\">\\r\\n                <mat-label>{{'lang.applicationName' | translate}}</mat-label>\\r\\n                <input matInput formControlName=\\\"appName\\\">\\r\\n            </mat-form-field>\\r\\n            <div>{{'lang.loginMsg' | translate}} : </div>\\r\\n            <textarea style=\\\"padding-top: 10px;\\\" name=\\\"loginMessage\\\" id=\\\"loginMessage\\\"\\r\\n                formControlName=\\\"loginMessage\\\"></textarea>\\r\\n            <br />\\r\\n            <br />\\r\\n            <div>{{'lang.homeMsg' | translate}} : </div>\\r\\n            <textarea style=\\\"padding-top: 10px;\\\" name=\\\"homeMessage\\\" id=\\\"homeMessage\\\"\\r\\n                formControlName=\\\"homeMessage\\\"></textarea>\\r\\n            <br />\\r\\n            <br />\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <div>{{'lang.chooseLogo' | translate}} : </div>\\r\\n            <div>\\r\\n                <mat-card style=\\\"width: 350px;background-size: 100%;cursor: pointer;\\\" matRipple>\\r\\n                    <img [src]=\\\"logoURL()\\\" (click)=\\\"clickLogoButton(uploadLogo)\\\" style=\\\"width: 100%;\\\" />\\r\\n                    <input type=\\\"file\\\" name=\\\"files[]\\\" #uploadLogo (change)=\\\"uploadTrigger($event, 'logo')\\\"\\r\\n                        accept=\\\"image/svg+xml\\\" style=\\\"display: none;\\\">\\r\\n                </mat-card>\\r\\n            </div>\\r\\n            <br />\\r\\n            <div>{{'lang.chooseLoginBg' | translate}} : </div>\\r\\n            <div class=\\\"backgroundList\\\">\\r\\n                <mat-card (click)=\\\"selectBg('assets/bodylogin.jpg')\\\" style=\\\"opacity: 0.3;\\\" class=\\\"backgroundItem\\\"\\r\\n                    [class.disabled]=\\\"stepFormGroup.controls['bodyLoginBackground'].disabled\\\"\\r\\n                    [class.selected]=\\\"stepFormGroup.controls['bodyLoginBackground'].value === 'assets/bodylogin.jpg'\\\"\\r\\n                    style=\\\"background:url(assets/bodylogin.jpg);background-size: cover;\\\">\\r\\n                </mat-card>\\r\\n                <mat-card *ngFor=\\\"let background of backgroundList\\\"\\r\\n                    (click)=\\\"selectBg(background.url)\\\"\\r\\n                    style=\\\"opacity: 0.3;\\\" class=\\\"backgroundItem\\\"\\r\\n                    [class.selected]=\\\"background.url === stepFormGroup.controls['bodyLoginBackground'].value\\\"\\r\\n                    [class.disabled]=\\\"stepFormGroup.controls['bodyLoginBackground'].disabled\\\"\\r\\n                    [style.background]=\\\"'url('+background.url+')'\\\">\\r\\n                </mat-card>\\r\\n                <mat-card *ngIf=\\\"!stepFormGroup.controls['bodyLoginBackground'].disabled\\\"\\r\\n                    style=\\\"opacity: 0.3;display: flex;align-items: center;justify-content: center;\\\"\\r\\n                    class=\\\"backgroundItem\\\" (click)=\\\"uploadFile.click()\\\">\\r\\n                    <input type=\\\"file\\\" name=\\\"files[]\\\" #uploadFile (change)=\\\"uploadTrigger($event, 'bg')\\\"\\r\\n                        accept=\\\"image/jpeg\\\" style=\\\"display: none;\\\">\\r\\n                    <i class=\\\"fa fa-plus\\\" style=\\\"font-size: 30px;color: #666;\\\"></i>\\r\\n                </mat-card>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\";","export default \".stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2RhdGFiYXNlL2RhdGFiYXNlLmNvbXBvbmVudC5zY3NzIiwic3JjL2Zyb250ZW5kL2Nzcy92YXJzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSxZQUFBO0FBRko7QUFHSTtFQUNJLGNDTEU7RURNRixtQkFBQTtFQUNBLHdCQUFBO0VBQ0EsVUFBQTtBQURSIiwiZmlsZSI6InNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2RhdGFiYXNlL2RhdGFiYXNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vY3NzL3ZhcnMuc2Nzcyc7XHJcblxyXG4uc3RlcENvbnRlbnQge1xyXG4gICAgLy8gbWF4LXdpZHRoOiA4NTBweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIC5zdGVwQ29udGVudFRpdGxlIHtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnk7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHg7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxufVxyXG4iLCIkY29sb3ItbWFpbjogIzRGNEY0RjsgLy8gZGVmYXVsdCBjb2xvciBpbiBhcHBsaWNhdGlvblxyXG4kcHJpbWFyeTogIzEzNWY3ZjsgLy8gbWFpbiBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG4kc2Vjb25kYXJ5OiAjRjk5ODMwOyAvLyBtYWluIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcbiRhY2NlbnQ6ICMwMDY4NDE7IC8vIGFjY2VudCBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvbiAobGlrZSBzdWNjZXNzIGJ1dHRvbnMpXHJcbiR3YXJuOiAjOGUzZTUyOyAvLyB3YXJuaW5nIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcblxyXG4vLyBXQVJOSU5HICEgWU9VIE1VU1QgUkVDT01QSUxBVEUgbWFhcmNoLW1hdGVyaWFsLnNjc3MgSUYgVkFMVUVTIENIQU5HRVMiXX0= */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ValidatorFn } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { StepAction } from '../types';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { tap, catchError } from 'rxjs/operators';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { of } from 'rxjs';\r\nimport { MatDrawer } from '@angular/material/sidenav';\r\nimport { InstallerService } from '../installer.service';\r\n\r\ndeclare var tinymce: any;\r\n\r\n@Component({\r\n    selector: 'app-mailserver',\r\n    templateUrl: './mailserver.component.html',\r\n    styleUrls: ['./mailserver.component.scss'],\r\n})\r\nexport class MailserverComponent implements OnInit {\r\n    \r\n\r\n    hidePassword: boolean = true;\r\n    stepFormGroup: FormGroup;\r\n\r\n    recipientTest: string = '';\r\n    emailSendLoading: boolean = false;\r\n    emailSendResult: any = {\r\n        msg: '',\r\n        debug: ''\r\n    };\r\n\r\n    smtpTypeList = [\r\n        {\r\n            id: 'smtp',\r\n            label: this.translate.instant('lang.smtpclient')\r\n        },\r\n        {\r\n            id: 'sendmail',\r\n            label: this.translate.instant('lang.smtprelay')\r\n        },\r\n        {\r\n            id: 'qmail',\r\n            label: this.translate.instant('lang.qmail')\r\n        },\r\n        {\r\n            id: 'mail',\r\n            label: this.translate.instant('lang.phpmail')\r\n        }\r\n    ];\r\n    smtpSecList = [\r\n        {\r\n            id: '',\r\n            label: this.translate.instant('lang.none')\r\n        },\r\n        {\r\n            id: 'ssl',\r\n            label: 'ssl'\r\n        },\r\n        {\r\n            id: 'tls',\r\n            label: 'tls'\r\n        }\r\n    ];\r\n\r\n    @ViewChild('checkMailserverContent', { static: true }) checkMailserverContent: MatDrawer;\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        private _formBuilder: FormBuilder,\r\n        private notify: NotificationService,\r\n        public http: HttpClient,\r\n        private installerService: InstallerService\r\n    ) {\r\n        const valEmail: ValidatorFn[] = [Validators.pattern(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/), Validators.required];\r\n\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            firstCtrl: ['success', Validators.required],\r\n            type: ['smtp', Validators.required],\r\n            host: ['', Validators.required],\r\n            auth: [true],\r\n            user: ['', Validators.required],\r\n            password: ['', Validators.required],\r\n            secure: ['ssl', Validators.required],\r\n            port: ['465', Validators.required],\r\n            charset: ['utf-8', Validators.required],\r\n            from: ['', valEmail],\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.stepFormGroup.valueChanges.subscribe(() => {\r\n            if (this.checkMailserverContent.opened) {\r\n                this.checkMailserverContent.close();\r\n                this.emailSendLoading = false;\r\n                this.emailSendResult = {\r\n                    icon: 'fa-paper-plane primary',\r\n                    msg: this.translate.instant('lang.emailSendInProgress'),\r\n                    debug: ''\r\n                };\r\n            }\r\n        });\r\n        this.stepFormGroup.controls['type'].valueChanges.pipe(\r\n            tap((data: any) => {\r\n                if (['smtp', 'mail'].indexOf(data) === -1) {\r\n                    this.stepFormGroup.controls['secure'].disable();\r\n                    this.stepFormGroup.controls['host'].disable();\r\n                    this.stepFormGroup.controls['port'].disable();\r\n                    this.stepFormGroup.controls['auth'].disable();\r\n                    this.stepFormGroup.controls['user'].disable();\r\n                    this.stepFormGroup.controls['password'].disable();\r\n                } else {\r\n                    this.stepFormGroup.controls['secure'].enable();\r\n                    this.stepFormGroup.controls['host'].enable();\r\n                    this.stepFormGroup.controls['port'].enable();\r\n                    this.stepFormGroup.controls['auth'].enable();\r\n                    if (this.stepFormGroup.controls['auth'].value) {\r\n                        this.stepFormGroup.controls['user'].enable();\r\n                        this.stepFormGroup.controls['password'].enable();\r\n                    }\r\n                }\r\n            })\r\n        ).subscribe();\r\n        this.stepFormGroup.controls['auth'].valueChanges.pipe(\r\n            tap((data: any) => {\r\n                if (!data) {\r\n                    this.stepFormGroup.controls['user'].disable();\r\n                    this.stepFormGroup.controls['password'].disable();\r\n                } else {\r\n                    this.stepFormGroup.controls['user'].enable();\r\n                    this.stepFormGroup.controls['password'].enable();\r\n                }\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    testEmailSend() {\r\n        this.emailSendResult = {\r\n            icon: 'fa-paper-plane primary',\r\n            msg: this.translate.instant('lang.emailSendInProgress'),\r\n            debug: ''\r\n        };\r\n        const email = {\r\n            'sender': { 'email': this.stepFormGroup.controls['from'] },\r\n            'recipients': [this.recipientTest],\r\n            'object': '[' + this.translate.instant('lang.doNotReply') + '] ' + this.translate.instant('lang.emailSendTest'),\r\n            'status': 'EXPRESS',\r\n            'body': this.translate.instant('lang.emailSendTest'),\r\n            'isHtml': false\r\n        };\r\n        this.emailSendLoading = true;\r\n\r\n        this.http.get(`../rest/emails`).pipe(\r\n            tap((data: any) => {\r\n                this.emailSendLoading = false;\r\n                this.emailSendResult = {\r\n                    icon: 'fa-check green',\r\n                    msg: this.translate.instant('lang.emailSendSuccess'),\r\n                    debug: ''\r\n                };\r\n            }),\r\n            catchError((err: any) => {\r\n                console.log(err);\r\n\r\n                this.emailSendLoading = false;\r\n                this.emailSendResult = {\r\n                    icon: 'fa-times red',\r\n                    msg: this.translate.instant('lang.emailSendFailed'),\r\n                    debug: err.error.errors\r\n                };\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    initStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('mailserver')) {\r\n            this.stepFormGroup.disable();\r\n        }\r\n    }\r\n\r\n    isValidStep() {\r\n        return this.stepFormGroup === undefined ? false : this.stepFormGroup.controls['firstCtrl'].valid;\r\n    }\r\n\r\n    getFormGroup() {\r\n        return this.stepFormGroup;\r\n    }\r\n\r\n    checkStep() {\r\n        return this.stepFormGroup.valid;\r\n    }\r\n\r\n    getInfoToInstall(): StepAction[] {\r\n        return [];\r\n        /* return [{\r\n            idStep : 'mailserver',\r\n            body: {\r\n                smtp: this.stepFormGroup.controls['smtp'].value,\r\n                auth: this.stepFormGroup.controls['auth'].value,\r\n                user: this.stepFormGroup.controls['user'].value,\r\n                password: this.stepFormGroup.controls['password'].value,\r\n                secure: this.stepFormGroup.controls['secure'].value,\r\n                port: this.stepFormGroup.controls['port'].value,\r\n                charset: this.stepFormGroup.controls['charset'].value,\r\n                from: this.stepFormGroup.controls['from'].value\r\n            },\r\n            route: '../rest/installer/mailserver',\r\n            description: this.translate.instant('lang.stepMailServerActionDesc'),\r\n            installPriority: 3\r\n        }];*/\r\n    }\r\n}\r\n","export default \".stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n.stepContent .maarchLogoFull {\\n  width: 300px;\\n  height: 100px;\\n}\\n.stepContent .mat-divider {\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n}\\n.link {\\n  text-decoration: underline;\\n  color: #135f7f !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL3dlbGNvbWUvd2VsY29tZS5jb21wb25lbnQuc2NzcyIsInNyYy9mcm9udGVuZC9jc3MvdmFycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUksWUFBQTtBQUZKO0FBSUk7RUFDSSxjQ05FO0VET0YsbUJBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7QUFGUjtBQUtJO0VBQ0ksWUFBQTtFQUNBLGFBQUE7QUFIUjtBQU1JO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtBQUpSO0FBUUE7RUFDSSwwQkFBQTtFQUNBLHlCQUFBO0FBTEoiLCJmaWxlIjoic3JjL2Zyb250ZW5kL2FwcC9pbnN0YWxsZXIvd2VsY29tZS93ZWxjb21lLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vY3NzL3ZhcnMuc2Nzcyc7XHJcblxyXG4uc3RlcENvbnRlbnQge1xyXG4gICAgLy9tYXgtd2lkdGg6IDg1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG5cclxuICAgIC5zdGVwQ29udGVudFRpdGxlIHtcclxuICAgICAgICBjb2xvcjogJHByaW1hcnk7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHg7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLm1hYXJjaExvZ29GdWxse1xyXG4gICAgICAgIHdpZHRoOiAzMDBweDtcclxuICAgICAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAubWF0LWRpdmlkZXIge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIH1cclxufVxyXG5cclxuLmxpbmsge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICBjb2xvcjogJHByaW1hcnkgIWltcG9ydGFudDtcclxufSIsIiRjb2xvci1tYWluOiAjNEY0RjRGOyAvLyBkZWZhdWx0IGNvbG9yIGluIGFwcGxpY2F0aW9uXHJcbiRwcmltYXJ5OiAjMTM1ZjdmOyAvLyBtYWluIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcbiRzZWNvbmRhcnk6ICNGOTk4MzA7IC8vIG1haW4gY29sb3IgdGhlbWUgb2YgYXBwbGljYXRpb25cclxuJGFjY2VudDogIzAwNjg0MTsgLy8gYWNjZW50IGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uIChsaWtlIHN1Y2Nlc3MgYnV0dG9ucylcclxuJHdhcm46ICM4ZTNlNTI7IC8vIHdhcm5pbmcgY29sb3IgdGhlbWUgb2YgYXBwbGljYXRpb25cclxuXHJcbi8vIFdBUk5JTkcgISBZT1UgTVVTVCBSRUNPTVBJTEFURSBtYWFyY2gtbWF0ZXJpYWwuc2NzcyBJRiBWQUxVRVMgQ0hBTkdFUyJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../app-common.module';\r\nimport { InternationalizationModule } from '@service/translate/internationalization.module';\r\nimport { InstallerComponent } from './installer.component';\r\nimport { InstallActionComponent } from './install-action/install-action.component';\r\nimport { WelcomeComponent } from './welcome/welcome.component';\r\nimport { PrerequisiteComponent } from './prerequisite/prerequisite.component';\r\nimport { DatabaseComponent } from './database/database.component';\r\nimport { DocserversComponent } from './docservers/docservers.component';\r\nimport { CustomizationComponent } from './customization/customization.component';\r\nimport { UseradminComponent } from './useradmin/useradmin.component';\r\nimport { MailserverComponent } from './mailserver/mailserver.component';\r\nimport { InstallerRoutingModule } from './installer-routing.module';\r\nimport { InstallerService } from './installer.service';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n    imports: [\r\n        SharedModule,\r\n        InternationalizationModule,\r\n        InstallerRoutingModule\r\n    ],\r\n    declarations: [\r\n        InstallActionComponent,\r\n        InstallerComponent,\r\n        WelcomeComponent,\r\n        PrerequisiteComponent,\r\n        DatabaseComponent,\r\n        DocserversComponent,\r\n        CustomizationComponent,\r\n        UseradminComponent,\r\n        MailserverComponent\r\n    ],\r\n    entryComponents: [InstallActionComponent],\r\n    providers: [InstallerService]\r\n})\r\nexport class InstallerModule {\r\n    constructor(translate: TranslateService) {\r\n        translate.setDefaultLang('fr');\r\n    }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ValidatorFn } from '@angular/forms';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { of } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { StepAction } from '../types';\r\nimport { FunctionsService } from '@service/functions.service';\r\nimport { InstallerService } from '../installer.service';\r\nimport { catchError, tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'app-database',\r\n    templateUrl: './database.component.html',\r\n    styleUrls: ['./database.component.scss']\r\n})\r\nexport class DatabaseComponent implements OnInit {\r\n\r\n    stepFormGroup: FormGroup;\r\n    hide: boolean = true;\r\n\r\n    connectionState: boolean = false;\r\n    dbExist: boolean = false;\r\n\r\n    dataFiles: string[] = [];\r\n\r\n    @Output() nextStep = new EventEmitter<string>();\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        public http: HttpClient,\r\n        private _formBuilder: FormBuilder,\r\n        private notify: NotificationService,\r\n        private functionsService: FunctionsService,\r\n        private installerService: InstallerService\r\n    ) {\r\n        const valDbName: ValidatorFn[] = [Validators.pattern(/^[^\\;\\\" \\\\]+$/), Validators.required];\r\n        const valLoginDb: ValidatorFn[] = [Validators.pattern(/^[^ ]+$/), Validators.required];\r\n\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            dbHostCtrl: ['localhost', Validators.required],\r\n            dbLoginCtrl: ['', valLoginDb],\r\n            dbPortCtrl: ['5432', Validators.required],\r\n            dbPasswordCtrl: ['', valLoginDb],\r\n            dbNameCtrl: ['', valDbName],\r\n            dbSampleCtrl: ['data_fr', Validators.required],\r\n            stateStep: ['', Validators.required]\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.stepFormGroup.controls['dbHostCtrl'].valueChanges.pipe(\r\n            tap(() => this.stepFormGroup.controls['stateStep'].setValue(''))\r\n        ).subscribe();\r\n        this.stepFormGroup.controls['dbLoginCtrl'].valueChanges.pipe(\r\n            tap(() => this.stepFormGroup.controls['stateStep'].setValue(''))\r\n        ).subscribe();\r\n        this.stepFormGroup.controls['dbPortCtrl'].valueChanges.pipe(\r\n            tap(() => this.stepFormGroup.controls['stateStep'].setValue(''))\r\n        ).subscribe();\r\n        this.stepFormGroup.controls['dbPasswordCtrl'].valueChanges.pipe(\r\n            tap(() => this.stepFormGroup.controls['stateStep'].setValue(''))\r\n        ).subscribe();\r\n        this.stepFormGroup.controls['dbNameCtrl'].valueChanges.pipe(\r\n            tap(() => this.stepFormGroup.controls['stateStep'].setValue(''))\r\n        ).subscribe();\r\n\r\n        this.getDataFiles();\r\n    }\r\n\r\n    getDataFiles() {\r\n        this.http.get(`../rest/installer/sqlDataFiles`).pipe(\r\n            tap((data: any) => {\r\n                this.dataFiles = data.dataFiles;\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.handleSoftErrors(err);\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    isValidConnection() {\r\n        return false;\r\n    }\r\n\r\n    initStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('database')) {\r\n            this.stepFormGroup.disable();\r\n        }\r\n    }\r\n\r\n    checkConnection() {\r\n\r\n        const info = {\r\n            server: this.stepFormGroup.controls['dbHostCtrl'].value,\r\n            port: this.stepFormGroup.controls['dbPortCtrl'].value,\r\n            user: this.stepFormGroup.controls['dbLoginCtrl'].value,\r\n            password: this.stepFormGroup.controls['dbPasswordCtrl'].value,\r\n            name: this.stepFormGroup.controls['dbNameCtrl'].value\r\n        };\r\n\r\n        this.http.get(`../rest/installer/databaseConnection`, { observe: 'response', params: info }).pipe(\r\n            tap((data: any) => {\r\n                this.dbExist = data.status === 200;\r\n                this.notify.success(this.translate.instant('lang.rightInformations'));\r\n                this.stepFormGroup.controls['stateStep'].setValue('success');\r\n                this.nextStep.emit();\r\n            }),\r\n            catchError((err: any) => {\r\n                this.dbExist = false;\r\n                if (err.error.errors === 'Given database has tables') {\r\n                    this.notify.error(this.translate.instant('lang.dbNotEmpty'));\r\n                } else {\r\n                    this.notify.error(this.translate.instant('lang.badInformations'));\r\n                }\r\n                this.stepFormGroup.markAllAsTouched();\r\n                this.stepFormGroup.controls['stateStep'].setValue('');\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    checkStep() {\r\n        return this.stepFormGroup.valid;\r\n    }\r\n\r\n    isValidStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('database')) {\r\n            return true;\r\n        } else {\r\n            return this.stepFormGroup === undefined ? false : this.stepFormGroup.valid;\r\n        }\r\n    }\r\n\r\n    isEmptyConnInfo() {\r\n        return this.stepFormGroup.controls['dbHostCtrl'].invalid ||\r\n            this.stepFormGroup.controls['dbPortCtrl'].invalid ||\r\n            this.stepFormGroup.controls['dbLoginCtrl'].invalid ||\r\n            this.stepFormGroup.controls['dbPasswordCtrl'].invalid ||\r\n            this.stepFormGroup.controls['dbNameCtrl'].invalid;\r\n    }\r\n\r\n    getFormGroup() {\r\n        return this.installerService.isStepAlreadyLaunched('database') ? true : this.stepFormGroup;\r\n    }\r\n\r\n    getInfoToInstall(): StepAction[] {\r\n        return [{\r\n            idStep : 'database',\r\n            body: {\r\n                server: this.stepFormGroup.controls['dbHostCtrl'].value,\r\n                port: this.stepFormGroup.controls['dbPortCtrl'].value,\r\n                user: this.stepFormGroup.controls['dbLoginCtrl'].value,\r\n                password: this.stepFormGroup.controls['dbPasswordCtrl'].value,\r\n                name: this.stepFormGroup.controls['dbNameCtrl'].value,\r\n                data: this.stepFormGroup.controls['dbSampleCtrl'].value\r\n            },\r\n            route : {\r\n                method : 'POST',\r\n                url : '../rest/installer/database'\r\n            },\r\n            description: this.translate.instant('lang.stepDatabaseActionDesc'),\r\n            installPriority: 2\r\n        }];\r\n    }\r\n\r\n}\r\n","import { Component, OnInit, EventEmitter, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ValidatorFn } from '@angular/forms';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { of } from 'rxjs';\r\nimport { InstallerService } from '../installer.service';\r\nimport { catchError, tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'app-docservers',\r\n    templateUrl: './docservers.component.html',\r\n    styleUrls: ['./docservers.component.scss']\r\n})\r\nexport class DocserversComponent implements OnInit {\r\n\r\n    stepFormGroup: FormGroup;\r\n\r\n    @Output() nextStep = new EventEmitter<string>();\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        private _formBuilder: FormBuilder,\r\n        private notify: NotificationService,\r\n        public http: HttpClient,\r\n        private installerService: InstallerService\r\n    ) {\r\n        const valPath: ValidatorFn[] = [Validators.pattern(/^[^\\'\\<\\>\\|\\*\\:\\?]+$/), Validators.required];\r\n\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            docserversPath: ['/opt/maarch/docservers/', valPath],\r\n            stateStep: ['', Validators.required],\r\n        });\r\n\r\n        this.stepFormGroup.controls['docserversPath'].valueChanges.pipe(\r\n            tap(() => this.stepFormGroup.controls['stateStep'].setValue(''))\r\n        ).subscribe();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n\r\n    isValidStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('docserver')) {\r\n            return true;\r\n        } else {\r\n            return this.stepFormGroup === undefined ? false : this.stepFormGroup.valid;\r\n        }\r\n    }\r\n\r\n    initStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('docserver')) {\r\n            this.stepFormGroup.disable();\r\n        }\r\n    }\r\n\r\n    getFormGroup() {\r\n        return this.installerService.isStepAlreadyLaunched('docserver') ? true : this.stepFormGroup;\r\n    }\r\n\r\n    checkAvailability() {\r\n        const info = {\r\n            path: this.stepFormGroup.controls['docserversPath'].value,\r\n        };\r\n\r\n        this.http.get(`../rest/installer/docservers`, { params: info }).pipe(\r\n            tap((data: any) => {\r\n                this.notify.success(this.translate.instant('lang.rightInformations'));\r\n                this.stepFormGroup.controls['stateStep'].setValue('success');\r\n                this.nextStep.emit();\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.error(this.translate.instant('lang.pathUnreacheable'));\r\n                this.stepFormGroup.controls['stateStep'].setValue('');\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    getInfoToInstall(): any[] {\r\n        return [{\r\n            idStep: 'docserver',\r\n            body: {\r\n                path: this.stepFormGroup.controls['docserversPath'].value,\r\n            },\r\n            route: {\r\n                method: 'POST',\r\n                url: '../rest/installer/docservers'\r\n            },\r\n            description: this.translate.instant('lang.stepDocserversActionDesc'),\r\n            installPriority: 3\r\n        }];\r\n    }\r\n\r\n}\r\n","export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\"><i class=\\\"fa fa-mail-bulk\\\"></i> {{'lang.stepMailServer' | translate}}</h2>\\r\\n    <div class=\\\"alert-message alert-message-info\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\"\\r\\n        [innerHTML]=\\\"'lang.stepMailServer_desc' | translate\\\">\\r\\n    </div>\\r\\n    <div class=\\\"alert-message alert-message-danger\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\"\\r\\n    [innerHTML]=\\\"'lang.stepMailServer_warning' | translate\\\">\\r\\n</div>\\r\\n    <mat-drawer-container autosize>\\r\\n        <mat-drawer-content>\\r\\n            <div style=\\\"width: 99%;\\\">\\r\\n                <form [formGroup]=\\\"stepFormGroup\\\" style=\\\"display: contents;\\\">\\r\\n                    <mat-form-field>\\r\\n                        <mat-select #smtpType name=\\\"smtpType\\\" [placeholder]=\\\"'lang.configurationType' | translate\\\"\\r\\n                            formControlName=\\\"type\\\" required>\\r\\n                            <mat-option *ngFor=\\\"let type of smtpTypeList\\\" [value]=\\\"type.id\\\">\\r\\n                                {{type.label}}\\r\\n                            </mat-option>\\r\\n                        </mat-select>\\r\\n                    </mat-form-field>\\r\\n                    <div class=\\\"row\\\" style=\\\"margin:0px;\\\">\\r\\n                        <div class=\\\"col-md-2\\\">\\r\\n                            <mat-form-field>\\r\\n                                <mat-select name=\\\"SMTPSecure\\\" [placeholder]=\\\"'lang.smtpAuth' | translate\\\" formControlName=\\\"secure\\\">\\r\\n                                    <mat-option *ngFor=\\\"let security of smtpSecList\\\" [value]=\\\"security.id\\\">\\r\\n                                        {{security.label}}\\r\\n                                    </mat-option>\\r\\n                                </mat-select>\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-9\\\">\\r\\n                            <mat-form-field>\\r\\n                                <input matInput name=\\\"host\\\" formControlName=\\\"host\\\" [placeholder]=\\\"'lang.host' | translate\\\" required>\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-1\\\">\\r\\n                            <mat-form-field>\\r\\n                                <input name=\\\"port\\\" type=\\\"number\\\" matInput formControlName=\\\"port\\\"\\r\\n                                    [placeholder]=\\\"'lang.port' | translate\\\" required>\\r\\n                            </mat-form-field>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <mat-slide-toggle color=\\\"primary\\\" name=\\\"SMTPAuth\\\" formControlName=\\\"auth\\\">\\r\\n                        {{'lang.enableAuth' | translate}}\\r\\n                    </mat-slide-toggle>\\r\\n                    <mat-form-field>\\r\\n                        <input name=\\\"user\\\" formControlName=\\\"user\\\" matInput placeholder=\\\"{{'lang.id' | translate}}\\\" required>\\r\\n                    </mat-form-field>\\r\\n                    <mat-form-field>\\r\\n                        <input name=\\\"password\\\" [type]=\\\"hidePassword ? 'password' : 'text'\\\" formControlName=\\\"password\\\"\\r\\n                            matInput [placeholder]=\\\"'lang.password' | translate\\\" required>\\r\\n                        <mat-icon color=\\\"primary\\\" style=\\\"cursor: pointer;\\\" matSuffix\\r\\n                            (click)=\\\"hidePassword = !hidePassword\\\" class=\\\"fa fa-2x\\\"\\r\\n                            [ngClass]=\\\"[hidePassword ? 'fa-eye-slash' : 'fa-eye']\\\"></mat-icon>\\r\\n                    </mat-form-field>\\r\\n                    <mat-form-field>\\r\\n                        <input name=\\\"mailFrom\\\" formControlName=\\\"from\\\" required matInput [placeholder]=\\\"'lang.mailFrom' | translate\\\">\\r\\n                    </mat-form-field>\\r\\n                </form>\\r\\n            </div>\\r\\n        </mat-drawer-content>\\r\\n        <mat-drawer #checkMailserverContent mode=\\\"side\\\" position=\\\"end\\\" style=\\\"padding:10px;width: 350px;\\\">\\r\\n            <mat-nav-list disableRipple=\\\"true\\\" style=\\\"display: flex;flex-direction: column;\\\">\\r\\n                <h3 mat-subheader>{{'lang.emailSendTest' | translate}}</h3>\\r\\n                <mat-form-field>\\r\\n                    <input name=\\\"recipientTest\\\" matInput placeholder=\\\"{{'lang.mailTo' | translate}}\\\" [(ngModel)]=\\\"recipientTest\\\"\\r\\n                        [disabled]=\\\"emailSendLoading\\\">\\r\\n                    <mat-icon *ngIf=\\\"!emailSendLoading\\\" title=\\\"{{'lang.beginSendTest' | translate}}\\\" (click)=\\\"testEmailSend()\\\"\\r\\n                        color=\\\"primary\\\" style=\\\"cursor: pointer;\\\" matSuffix class=\\\"fa fa-paper-plane fa-2x\\\"></mat-icon>\\r\\n                </mat-form-field>\\r\\n                <mat-list-item *ngIf=\\\"emailSendResult.msg != ''\\\">\\r\\n                    <mat-icon mat-list-icon class=\\\"fas {{emailSendResult.icon}} fa-2x\\\"></mat-icon>\\r\\n                    <p mat-line> {{emailSendResult.msg}} </p>\\r\\n                </mat-list-item>\\r\\n            </mat-nav-list>\\r\\n            <div class=\\\"bash\\\" *ngIf=\\\"this.emailSendResult.msg === ('lang.emailSendFailed' | translate)\\\">\\r\\n                {{this.emailSendResult.debug}}\\r\\n            </div>\\r\\n        </mat-drawer>\\r\\n    </mat-drawer-container>\\r\\n    <div class=\\\"text-center\\\">\\r\\n        <button mat-raised-button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"checkMailserverContent.open()\\\"\\r\\n            [disabled]=\\\"!stepFormGroup.valid\\\">{{'lang.checkSendmail' | translate}}</button>\\r\\n    </div>\\r\\n</div>\";","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { environment } from '../../../environments/environment';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\nimport { AuthService } from '@service/auth.service';\r\n\r\n\r\n@Component({\r\n    selector: 'app-welcome',\r\n    templateUrl: './welcome.component.html',\r\n    styleUrls: ['./welcome.component.scss']\r\n})\r\nexport class WelcomeComponent implements OnInit {\r\n\r\n    stepFormGroup: FormGroup;\r\n\r\n    langs: string[] = [];\r\n\r\n    appVersion: string = environment.VERSION.split('.')[0] + '.' + environment.VERSION.split('.')[1];\r\n\r\n    steps: any[] = [\r\n        {\r\n            icon: 'fas fa-check-square',\r\n            desc: 'lang.prerequisiteCheck'\r\n        },\r\n        {\r\n            icon: 'fa fa-database',\r\n            desc: 'lang.databaseCreation'\r\n        },\r\n        {\r\n            icon: 'fa fa-database',\r\n            desc: 'lang.dataSampleCreation'\r\n        },\r\n        {\r\n            icon: 'fa fa-hdd',\r\n            desc: 'lang.docserverCreation'\r\n        },\r\n        {\r\n            icon: 'fas fa-tools',\r\n            desc: 'lang.stepCustomizationActionDesc'\r\n        },\r\n        {\r\n            icon: 'fa fa-user',\r\n            desc: 'lang.adminUserCreation'\r\n        },\r\n    ];\r\n\r\n    customs: any = [];\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        public http: HttpClient,\r\n        private notify: NotificationService,\r\n        private _formBuilder: FormBuilder,\r\n        private authService: AuthService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            lang: ['fr', Validators.required]\r\n        });\r\n\r\n        this.getLang();\r\n        if (!this.authService.noInstall) {\r\n            this.getCustoms();\r\n        }\r\n    }\r\n\r\n    getLang() {\r\n        this.http.get('../rest/dev/lang').pipe(\r\n            tap((data: any) => {\r\n                this.langs = Object.keys(data.langs).filter(lang => lang !== 'nl');\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.handleSoftErrors(err);\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    changeLang(id: string) {\r\n        this.translate.use(id);\r\n    }\r\n\r\n    getCustoms() {\r\n        this.http.get('../rest/installer/customs').pipe(\r\n            tap((data: any) => {\r\n                this.customs = data.customs;\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.handleSoftErrors(err);\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    initStep() {\r\n        return false;\r\n    }\r\n\r\n    getInfoToInstall(): any[] {\r\n        return [];\r\n    }\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ValidatorFn } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { StepAction } from '../types';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { environment } from '../../../environments/environment';\r\nimport { ScanPipe } from 'ngx-pipes';\r\nimport { debounceTime, filter, tap, catchError, startWith } from 'rxjs/operators';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { InstallerService } from '../installer.service';\r\nimport { of } from 'rxjs';\r\nimport { DatabaseComponent } from '../database/database.component';\r\nimport { WelcomeComponent } from '../welcome/welcome.component';\r\n\r\ndeclare var tinymce: any;\r\n\r\n@Component({\r\n    selector: 'app-customization',\r\n    templateUrl: './customization.component.html',\r\n    styleUrls: ['./customization.component.scss'],\r\n    providers: [ScanPipe]\r\n})\r\nexport class CustomizationComponent implements OnInit {\r\n\r\n    @Input() appDatabase: DatabaseComponent;\r\n    @Input() appWelcome: WelcomeComponent;\r\n\r\n    stepFormGroup: FormGroup;\r\n    readonlyState: boolean = false;\r\n\r\n    backgroundList: any[] = [];\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        private _formBuilder: FormBuilder,\r\n        private notify: NotificationService,\r\n        private sanitizer: DomSanitizer,\r\n        private scanPipe: ScanPipe,\r\n        public http: HttpClient,\r\n        private installerService: InstallerService\r\n    ) {\r\n        const valIdentifier: ValidatorFn[] = [Validators.pattern(/^[a-zA-Z0-9_\\-]*$/), Validators.required];\r\n\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            firstCtrl: ['success', Validators.required],\r\n            customId: [null, valIdentifier],\r\n            appName: [`Maarch Courrier ${environment.VERSION.split('.')[0] + '.' + environment.VERSION.split('.')[1]}`, Validators.required],\r\n            loginMessage: [`<span style=\"color:#24b0ed\"><strong>Découvrez votre application via</strong></span>&nbsp;<a title=\"le guide de visite\" href=\"https://docs.maarch.org/gitbook/html/MaarchCourrier/${environment.VERSION.split('.')[0] + '.' + environment.VERSION.split('.')[1]}/guu/home.html\" target=\"_blank\"><span style=\"color:#f99830;\"><strong>le guide de visite en ligne</strong></span></a>`],\r\n            homeMessage: ['<p>D&eacute;couvrez <strong>Maarch Courrier 20.10</strong> avec <a title=\"notre guide de visite\" href=\"https://docs.maarch.org/\" target=\"_blank\"><span style=\"color:#f99830;\"><strong>notre guide de visite en ligne</strong></span></a>.</p>'],\r\n            bodyLoginBackground: ['assets/bodylogin.jpg'],\r\n            uploadedLogo: ['../rest/images?image=logo'],\r\n        });\r\n        this.backgroundList = Array.from({ length: 16 }).map((_, i) => {\r\n            return {\r\n                filename: `${i + 1}.jpg`,\r\n                url: `assets/${i + 1}.jpg`,\r\n            };\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.checkCustomExist();\r\n        this.stepFormGroup.controls['customId'].valueChanges.pipe(\r\n            startWith(''),\r\n            tap(() => {\r\n                this.stepFormGroup.controls['firstCtrl'].setValue('');\r\n            }),\r\n            debounceTime(500),\r\n            filter((value: any) => value.length > 2),\r\n            filter(() => this.stepFormGroup.controls['customId'].errors === null || this.stepFormGroup.controls['customId'].errors.pattern === undefined),\r\n            tap(() => {\r\n                this.checkCustomExist();\r\n            }),\r\n        ).subscribe();\r\n    }\r\n\r\n    initStep() {\r\n        if (this.stepFormGroup.controls['customId'].value === null) {\r\n            this.stepFormGroup.controls['customId'].setValue(this.appDatabase.getInfoToInstall()[0].body.name);\r\n        }\r\n        if (this.installerService.isStepAlreadyLaunched('createCustom') && this.installerService.isStepAlreadyLaunched('customization')) {\r\n            this.stepFormGroup.disable();\r\n            this.readonlyState = true;\r\n            tinymce.remove();\r\n            this.initMce(true);\r\n        } else if (this.installerService.isStepAlreadyLaunched('createCustom')) {\r\n            this.stepFormGroup.controls['customId'].disable();\r\n            this.stepFormGroup.controls['appName'].disable();\r\n            this.stepFormGroup.controls['firstCtrl'].disable();\r\n        } else if (this.installerService.isStepAlreadyLaunched('customization')) {\r\n            this.stepFormGroup.controls['loginMessage'].disable();\r\n            this.stepFormGroup.controls['homeMessage'].disable();\r\n            this.stepFormGroup.controls['bodyLoginBackground'].disable();\r\n            this.stepFormGroup.controls['uploadedLogo'].disable();\r\n            this.readonlyState = true;\r\n            tinymce.remove();\r\n            this.initMce(true);\r\n        } else {\r\n            this.readonlyState = false;\r\n            this.initMce();\r\n        }\r\n    }\r\n\r\n    checkCustomExist() {\r\n        this.http.get('../rest/installer/custom', { observe: 'response', params: { 'customId': this.stepFormGroup.controls['customId'].value } }).pipe(\r\n            tap((response: any) => {\r\n                if (this.stepFormGroup.controls['customId'].errors !== null) {\r\n                    const error = this.stepFormGroup.controls['customId'].errors;\r\n                    delete error.customExist;\r\n                } else {\r\n                    this.stepFormGroup.controls['firstCtrl'].setValue('success');\r\n                }\r\n            }),\r\n            catchError((err: any) => {\r\n                const regex = /^Custom already exists/g;\r\n                if (err.error.errors.match(regex) !== null) {\r\n                    this.stepFormGroup.controls['customId'].setErrors({ ...this.stepFormGroup.controls['customId'].errors, customExist: true });\r\n                    this.stepFormGroup.controls['customId'].markAsTouched();\r\n                } else {\r\n                    this.notify.handleSoftErrors(err);\r\n                }\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    isValidStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('createCustom') && this.installerService.isStepAlreadyLaunched('customization')) {\r\n            return true;\r\n        } else {\r\n            return this.stepFormGroup === undefined ? false : this.stepFormGroup.valid;\r\n        }\r\n    }\r\n\r\n    getFormGroup() {\r\n        return this.installerService.isStepAlreadyLaunched('createCustom') && this.installerService.isStepAlreadyLaunched('customization') ? true : this.stepFormGroup;\r\n    }\r\n\r\n    initMce(readonly = false) {\r\n        tinymce.init({\r\n            selector: 'textarea',\r\n            base_url: '../node_modules/tinymce/',\r\n            height: '150',\r\n            suffix: '.min',\r\n            language: this.translate.instant('lang.langISO').replace('-', '_'),\r\n            language_url: `../node_modules/tinymce-i18n/langs/${this.translate.instant('lang.langISO').replace('-', '_')}.js`,\r\n            menubar: false,\r\n            statusbar: false,\r\n            readonly: readonly,\r\n            plugins: [\r\n                'autolink'\r\n            ],\r\n            external_plugins: {\r\n                'maarch_b64image': '../../src/frontend/plugins/tinymce/maarch_b64image/plugin.min.js'\r\n            },\r\n            toolbar_sticky: true,\r\n            toolbar_drawer: 'floating',\r\n            toolbar: !readonly ? 'undo redo | fontselect fontsizeselect | bold italic underline strikethrough forecolor | maarch_b64image | \\\r\n        alignleft aligncenter alignright alignjustify \\\r\n        bullist numlist outdent indent | removeformat' : ''\r\n        });\r\n    }\r\n\r\n    getInfoToInstall(): StepAction[] {\r\n        return [\r\n            {\r\n                idStep: 'createCustom',\r\n                body: {\r\n                    lang: this.appWelcome.stepFormGroup.controls['lang'].value,\r\n                    customId: this.stepFormGroup.controls['customId'].value,\r\n                    applicationName: this.stepFormGroup.controls['appName'].value,\r\n                },\r\n                description: this.translate.instant('lang.stepInstanceActionDesc'),\r\n                route: {\r\n                    method: 'POST',\r\n                    url: '../rest/installer/custom'\r\n                },\r\n                installPriority: 1\r\n            },\r\n            {\r\n                idStep: 'customization',\r\n                body: {\r\n                    loginMessage: tinymce.get('loginMessage').getContent(),\r\n                    homeMessage: tinymce.get('homeMessage').getContent(),\r\n                    bodyLoginBackground: this.stepFormGroup.controls['bodyLoginBackground'].value,\r\n                    logo: this.stepFormGroup.controls['uploadedLogo'].value,\r\n                },\r\n                description: this.translate.instant('lang.stepCustomizationActionDesc'),\r\n                route: {\r\n                    method: 'POST',\r\n                    url: '../rest/installer/customization'\r\n                },\r\n                installPriority: 3\r\n            }\r\n        ];\r\n    }\r\n\r\n    uploadTrigger(fileInput: any, mode: string) {\r\n        if (fileInput.target.files && fileInput.target.files[0]) {\r\n            const res = this.canUploadFile(fileInput.target.files[0], mode);\r\n            if (res === true) {\r\n                const reader = new FileReader();\r\n\r\n                reader.readAsDataURL(fileInput.target.files[0]);\r\n                reader.onload = (value: any) => {\r\n                    if (mode === 'logo') {\r\n                        this.stepFormGroup.controls['uploadedLogo'].setValue(value.target.result);\r\n                    } else {\r\n                        const img = new Image();\r\n                        img.onload = (imgDim: any) => {\r\n                            if (imgDim.target.width < 1920 || imgDim.target.height < 1080) {\r\n                                this.notify.error(this.translate.instant('lang.badImageResolution', {value1: '1920x1080'}));\r\n                            } else {\r\n                                this.backgroundList.push({\r\n                                    filename: value.target.result,\r\n                                    url: value.target.result,\r\n                                });\r\n                                this.stepFormGroup.controls['bodyLoginBackground'].setValue(value.target.result);\r\n                            }\r\n                        };\r\n                        img.src = value.target.result;\r\n                    }\r\n                };\r\n            } else {\r\n                this.notify.error(res);\r\n            }\r\n        }\r\n    }\r\n\r\n    canUploadFile(file: any, mode: string) {\r\n        const allowedExtension = mode !== 'logo' ? ['image/jpg', 'image/jpeg'] : ['image/svg+xml'];\r\n\r\n        if (mode === 'logo') {\r\n            if (file.size > 5000000) {\r\n                return this.translate.instant('lang.maxFileSizeExceeded', {value1: '5mo'});\r\n            } else if (allowedExtension.indexOf(file.type) === -1) {\r\n                return this.translate.instant('lang.onlyExtensionsAllowed', {value1: allowedExtension.join(', ')});\r\n            }\r\n        } else {\r\n            if (file.size > 10000000) {\r\n                return this.translate.instant('lang.maxFileSizeExceeded', {value1: '10mo'});\r\n            } else if (allowedExtension.indexOf(file.type) === -1) {\r\n                return this.translate.instant('lang.onlyExtensionsAllowed', {value1: allowedExtension.join(', ')});\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    logoURL() {\r\n        return this.sanitizer.bypassSecurityTrustUrl(this.stepFormGroup.controls['uploadedLogo'].value);\r\n    }\r\n\r\n    selectBg(content: string) {\r\n        if (!this.stepFormGroup.controls['bodyLoginBackground'].disabled) {\r\n            this.stepFormGroup.controls['bodyLoginBackground'].setValue(content);\r\n        }\r\n    }\r\n\r\n    clickLogoButton(uploadLogo: any) {\r\n        if (!this.stepFormGroup.controls['uploadedLogo'].disabled) {\r\n            uploadLogo.click();\r\n        }\r\n    }\r\n}\r\n","export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\"><i class=\\\"fas fa-user\\\"></i> {{'lang.userAdmin' | translate}}</h2>\\r\\n    <div class=\\\"alert-message alert-message-info\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\">\\r\\n        {{'lang.stepUserAdmin_desc' | translate}}\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"stepFormGroup\\\" style=\\\"width: 850px;margin: auto;\\\">\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.id' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"login\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.firstname' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"firstname\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.lastname' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"lastname\\\">\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.password' | translate}}</mat-label>\\r\\n            <input [type]=\\\"hide ? 'password' : 'text'\\\" matInput formControlName=\\\"password\\\">\\r\\n            <button mat-icon-button matSuffix color=\\\"primary\\\" (click)=\\\"hide = !hide\\\">\\r\\n                <mat-icon class=\\\"fa {{hide ? 'fa-eye-slash' : 'fa-eye'}}\\\"></mat-icon>\\r\\n            </button>\\r\\n            <mat-error>{{'lang.passwordNotMatch' | translate}}</mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.retypeNewPassword' | translate}}</mat-label>\\r\\n            <input [type]=\\\"hide ? 'password' : 'text'\\\" matInput formControlName=\\\"passwordConfirm\\\">\\r\\n            <button mat-icon-button matSuffix color=\\\"primary\\\" (click)=\\\"hide = !hide\\\">\\r\\n                <mat-icon class=\\\"fa {{hide ? 'fa-eye-slash' : 'fa-eye'}}\\\"></mat-icon>\\r\\n            </button>\\r\\n            <mat-error>{{'lang.passwordNotMatch' | translate}}</mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.email' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"email\\\">\\r\\n        </mat-form-field>\\r\\n    </form>\\r\\n</div>\\r\\n\";","import { Component, OnInit, Inject, AfterViewInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { of } from 'rxjs';\r\nimport { InstallerService } from '../installer.service';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { catchError, tap } from 'rxjs/operators';\r\nimport { AuthService } from '@service/auth.service';\r\n\r\n@Component({\r\n    selector: 'app-install-action',\r\n    templateUrl: './install-action.component.html',\r\n    styleUrls: ['./install-action.component.scss']\r\n})\r\nexport class InstallActionComponent implements OnInit, AfterViewInit {\r\n    steps: any[] = [];\r\n    customId: string = '';\r\n\r\n    // Workaround for angular component issue #13870\r\n    disableAnimation = true;\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        @Inject(MAT_DIALOG_DATA) public data: any,\r\n        public dialogRef: MatDialogRef<InstallActionComponent>,\r\n        public http: HttpClient,\r\n        private installerService: InstallerService,\r\n        private notify: NotificationService,\r\n        private authService: AuthService,\r\n    ) { }\r\n\r\n    async ngOnInit(): Promise<void> {\r\n        this.initSteps();\r\n\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        setTimeout(() => this.disableAnimation = false);\r\n    }\r\n\r\n    async launchInstall() {\r\n        let res: any;\r\n        for (let index = 0; index < this.data.length; index++) {\r\n            this.steps[index].state = 'inProgress';\r\n            res = await this.doStep(index);\r\n            if (!res) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    initSteps() {\r\n        this.data.forEach((step: any, index: number) => {\r\n            if (index === 0) {\r\n                this.customId = step.body.customId;\r\n            } else {\r\n                step.body.customId = this.customId;\r\n            }\r\n            this.steps.push(\r\n                {\r\n                    idStep : step.idStep,\r\n                    label: step.description,\r\n                    state: '',\r\n                    msgErr: '',\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n    doStep(index: number) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.installerService.isStepAlreadyLaunched(this.data[index].idStep)) {\r\n                this.steps[index].state = 'OK';\r\n                resolve(true);\r\n            } else {\r\n                this.http[this.data[index].route.method.toLowerCase()](this.data[index].route.url, this.data[index].body).pipe(\r\n                    tap((data: any) => {\r\n                        this.steps[index].state = 'OK';\r\n                        this.installerService.setStep(this.steps[index]);\r\n                        resolve(true);\r\n                    }),\r\n                    catchError((err: any) => {\r\n                        this.steps[index].state = 'KO';\r\n                        if (err.error.lang !== undefined) {\r\n                            this.steps[index].msgErr = this.translate.instant('lang.' + err.error.lang);\r\n                        } else {\r\n                            this.steps[index].msgErr = err.error.errors;\r\n                        }\r\n                        resolve(false);\r\n                        return of(false);\r\n                    })\r\n                ).subscribe();\r\n            }\r\n        });\r\n    }\r\n\r\n    isInstallBegin() {\r\n        return this.steps.filter(step => step.state === '').length !== this.steps.length;\r\n    }\r\n\r\n    isInstallComplete() {\r\n        return this.steps.filter(step => step.state === '').length === 0;\r\n    }\r\n\r\n    isInstallError() {\r\n        return this.steps.filter(step => step.state === 'KO').length > 0;\r\n    }\r\n\r\n    goToInstance() {\r\n        this.http.request('DELETE', '../rest/installer/lock', { body: { customId: this.customId } }).pipe(\r\n            tap((res: any) => {\r\n                this.authService.noInstall = false;\r\n                window.location.href = res.url;\r\n                this.dialogRef.close('ok');\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.handleSoftErrors(err);\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n}\r\n","import { Component, OnInit, ViewChild, AfterViewInit, ViewChildren } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HeaderService } from '@service/header.service';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { STEPPER_GLOBAL_OPTIONS } from '@angular/cdk/stepper';\r\nimport { MatStepper } from '@angular/material/stepper';\r\nimport { AppService } from '@service/app.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { SortPipe } from '../../plugins/sorting.pipe';\r\nimport { StepAction } from './types';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { InstallActionComponent } from './install-action/install-action.component';\r\nimport { of } from 'rxjs';\r\nimport { FunctionsService } from '@service/functions.service';\r\nimport { catchError, filter, tap } from 'rxjs/operators';\r\nimport { AuthService } from '@service/auth.service';\r\nimport { PrivilegeService } from '@service/privileges.service';\r\n\r\n@Component({\r\n    templateUrl: './installer.component.html',\r\n    styleUrls: ['./installer.component.scss'],\r\n    providers: [\r\n        {\r\n            provide: STEPPER_GLOBAL_OPTIONS, useValue: { showError: true },\r\n        },\r\n        SortPipe\r\n    ]\r\n})\r\nexport class InstallerComponent implements OnInit, AfterViewInit {\r\n\r\n    loading: boolean = true;\r\n    @ViewChildren('stepContent') stepContent: any;\r\n    @ViewChild('stepper', { static: false }) stepper: MatStepper;\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        private router: Router,\r\n        private headerService: HeaderService,\r\n        private notify: NotificationService,\r\n        public appService: AppService,\r\n        private sortPipe: SortPipe,\r\n        public dialog: MatDialog,\r\n        private functionService: FunctionsService,\r\n        public privilegeService: PrivilegeService,\r\n        public authService: AuthService,\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.headerService.hideSideBar = true;\r\n\r\n        if (!this.authService.isAuth() && !this.authService.noInstall) {\r\n            this.router.navigate(['/login']);\r\n            this.notify.error(this.translate.instant('lang.mustConnectToInstall'));\r\n        } else if (this.authService.getToken() !== null && !this.privilegeService.hasCurrentUserPrivilege('create_custom')) {\r\n            this.router.navigate(['/login']);\r\n            this.notify.error(this.translate.instant('lang.mustPrivilegeToInstall'));\r\n        } else {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n\r\n    ngAfterViewInit(): void {\r\n        $('.mat-horizontal-stepper-header-container').insertBefore('.bg-head-content');\r\n        $('.mat-step-icon').css('background-color', 'white');\r\n        $('.mat-step-icon').css('color', '#135f7f');\r\n        $('.mat-step-label').css('color', 'white');\r\n        /*$('.mat-step-label').css('opacity', '0.5');\r\n        $('.mat-step-label-active').css('opacity', '1');*/\r\n        /*$('.mat-step-label-selected').css('font-size', '160%');\r\n        $('.mat-step-label-selected').css('transition', 'all 0.2s');\r\n        $('.mat-step-label').css('transition', 'all 0.2s');*/\r\n    }\r\n\r\n    isValidStep() {\r\n        return false;\r\n    }\r\n\r\n    initStep(ev: any) {\r\n        this.stepContent.toArray()[ev.selectedIndex].initStep();\r\n    }\r\n\r\n    nextStep() {\r\n        this.stepper.next();\r\n    }\r\n\r\n    gotToLogin() {\r\n        this.router.navigate(['/login']);\r\n    }\r\n\r\n    endInstall() {\r\n        let installContent: StepAction[] = [];\r\n        this.stepContent.toArray().forEach((component: any) => {\r\n            installContent = installContent.concat(component.getInfoToInstall());\r\n        });\r\n\r\n        installContent = this.sortPipe.transform(installContent, 'installPriority');\r\n\r\n        const dialogRef = this.dialog.open(InstallActionComponent, {\r\n            panelClass: 'maarch-modal',\r\n            disableClose: true,\r\n            width: '500px',\r\n            data: installContent\r\n        });\r\n        dialogRef.afterClosed().pipe(\r\n            filter((result: any) => !this.functionService.empty(result)),\r\n            tap((result: any) => {\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.handleErrors(err);\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n}\r\n","export default \".stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n.backgroundList {\\n  display: grid;\\n  grid-template-columns: repeat(5, 1fr);\\n  grid-gap: 10px;\\n}\\n.selected {\\n  transition: all 0.3s;\\n  opacity: 1 !important;\\n  border: solid 10px #F99830 !important;\\n}\\n.backgroundItem {\\n  border: solid 0px #F99830;\\n  opacity: 0.5;\\n  transition: all 0.3s;\\n  cursor: pointer;\\n  height: 120px;\\n  background-size: cover !important;\\n}\\n.disabled {\\n  cursor: default !important;\\n}\\n.backgroundItem:not(.disabled):hover {\\n  transition: all 0.3s;\\n  opacity: 1 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2N1c3RvbWl6YXRpb24vY3VzdG9taXphdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9mcm9udGVuZC9jc3MvdmFycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBRUksWUFBQTtBQUhKO0FBS0k7RUFDSSxjQ1BFO0VEUUYsbUJBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7QUFIUjtBQU9BO0VBQ0ksYUFBQTtFQUNBLHFDQUFBO0VBQ0EsY0FBQTtBQUpKO0FBT0E7RUFDSSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EscUNBQUE7QUFKSjtBQU9BO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLGlDQUFBO0FBSko7QUFPQTtFQUNJLDBCQUFBO0FBSko7QUFPQTtFQUNJLG9CQUFBO0VBQ0EscUJBQUE7QUFKSiIsImZpbGUiOiJzcmMvZnJvbnRlbmQvYXBwL2luc3RhbGxlci9jdXN0b21pemF0aW9uL2N1c3RvbWl6YXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi9jc3MvdmFycy5zY3NzJztcclxuXHJcblxyXG4uc3RlcENvbnRlbnQge1xyXG4gICAgLy8gbWF4LXdpZHRoOiA4NTBweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuXHJcbiAgICAuc3RlcENvbnRlbnRUaXRsZSB7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5O1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5iYWNrZ3JvdW5kTGlzdCB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTtcclxuICAgIGdyaWQtZ2FwOiAxMHB4O1xyXG59XHJcblxyXG4uc2VsZWN0ZWQge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXI6IHNvbGlkIDEwcHggJHNlY29uZGFyeSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmFja2dyb3VuZEl0ZW0ge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAwcHggJHNlY29uZGFyeTtcclxuICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgaGVpZ2h0OiAxMjBweDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmRpc2FibGVkIHtcclxuICAgIGN1cnNvcjogZGVmYXVsdCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmFja2dyb3VuZEl0ZW06bm90KC5kaXNhYmxlZCk6aG92ZXIge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XHJcbn0iLCIkY29sb3ItbWFpbjogIzRGNEY0RjsgLy8gZGVmYXVsdCBjb2xvciBpbiBhcHBsaWNhdGlvblxyXG4kcHJpbWFyeTogIzEzNWY3ZjsgLy8gbWFpbiBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG4kc2Vjb25kYXJ5OiAjRjk5ODMwOyAvLyBtYWluIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcbiRhY2NlbnQ6ICMwMDY4NDE7IC8vIGFjY2VudCBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvbiAobGlrZSBzdWNjZXNzIGJ1dHRvbnMpXHJcbiR3YXJuOiAjOGUzZTUyOyAvLyB3YXJuaW5nIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcblxyXG4vLyBXQVJOSU5HICEgWU9VIE1VU1QgUkVDT01QSUxBVEUgbWFhcmNoLW1hdGVyaWFsLnNjc3MgSUYgVkFMVUVTIENIQU5HRVMiXX0= */\";","import { Component, OnInit, EventEmitter, Output } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, ValidatorFn } from '@angular/forms';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { InstallerService } from '../installer.service';\r\nimport { StepAction } from '../types';\r\nimport { tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'app-useradmin',\r\n    templateUrl: './useradmin.component.html',\r\n    styleUrls: ['./useradmin.component.scss']\r\n})\r\nexport class UseradminComponent implements OnInit {\r\n\r\n    stepFormGroup: FormGroup;\r\n\r\n    hide: boolean = true;\r\n\r\n    @Output() tiggerInstall = new EventEmitter<string>();\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        private _formBuilder: FormBuilder,\r\n        private notify: NotificationService,\r\n        private installerService: InstallerService\r\n    ) {\r\n\r\n        const valLogin: ValidatorFn[] = [Validators.pattern(/^[\\w.@-]*$/), Validators.required];\r\n        const valEmail: ValidatorFn[] = [Validators.pattern(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/), Validators.required];\r\n\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            login: ['superadmin', valLogin],\r\n            firstname: ['Admin', Validators.required],\r\n            lastname: ['SUPER', Validators.required],\r\n            password: ['', Validators.required],\r\n            passwordConfirm: ['', Validators.required],\r\n            email: ['yourEmail@domain.com', valEmail],\r\n        });\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.stepFormGroup.controls['password'].valueChanges.pipe(\r\n            tap((data) => {\r\n                if (data !== this.stepFormGroup.controls['passwordConfirm'].value) {\r\n                    this.stepFormGroup.controls['password'].setErrors({ 'incorrect': true });\r\n                    this.stepFormGroup.controls['passwordConfirm'].setErrors({ 'incorrect': true });\r\n                    this.stepFormGroup.controls['passwordConfirm'].markAsTouched();\r\n                } else {\r\n                    this.stepFormGroup.controls['password'].setErrors(null);\r\n                    this.stepFormGroup.controls['passwordConfirm'].setErrors(null);\r\n                }\r\n            })\r\n        ).subscribe();\r\n        this.stepFormGroup.controls['passwordConfirm'].valueChanges.pipe(\r\n            tap((data) => {\r\n                if (data !== this.stepFormGroup.controls['password'].value) {\r\n                    this.stepFormGroup.controls['password'].setErrors({ 'incorrect': true });\r\n                    this.stepFormGroup.controls['password'].markAsTouched();\r\n                    this.stepFormGroup.controls['passwordConfirm'].setErrors({ 'incorrect': true });\r\n                } else {\r\n                    this.stepFormGroup.controls['password'].setErrors(null);\r\n                    this.stepFormGroup.controls['passwordConfirm'].setErrors(null);\r\n                }\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    initStep() {\r\n        if (this.installerService.isStepAlreadyLaunched('userAdmin')) {\r\n            this.stepFormGroup.disable();\r\n        }\r\n    }\r\n\r\n    isValidStep() {\r\n        return this.stepFormGroup === undefined ? false : this.stepFormGroup.valid || this.installerService.isStepAlreadyLaunched('userAdmin');\r\n    }\r\n\r\n    getFormGroup() {\r\n        return this.installerService.isStepAlreadyLaunched('userAdmin') ? true : this.stepFormGroup;\r\n    }\r\n\r\n    getInfoToInstall(): StepAction[] {\r\n        return [{\r\n            idStep: 'userAdmin',\r\n            body: {\r\n                login: this.stepFormGroup.controls['login'].value,\r\n                firstname: this.stepFormGroup.controls['firstname'].value,\r\n                lastname: this.stepFormGroup.controls['lastname'].value,\r\n                password: this.stepFormGroup.controls['password'].value,\r\n                email: this.stepFormGroup.controls['email'].value,\r\n            },\r\n            route: {\r\n                method: 'PUT',\r\n                url: '../rest/installer/administrator'\r\n            },\r\n            description: this.translate.instant('lang.stepUserAdminActionDesc'),\r\n            installPriority: 3\r\n        }];\r\n    }\r\n\r\n    launchInstall() {\r\n        this.tiggerInstall.emit();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InstallerComponent } from './installer.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InstallerComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InstallerRoutingModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { StepAction } from './types';\r\n\r\n@Injectable()\r\nexport class InstallerService {\r\n\r\n    steps: StepAction[] = [];\r\n\r\n    constructor() { }\r\n\r\n    setStep(step: StepAction) {\r\n        this.steps.push(step);\r\n    }\r\n\r\n    isStepAlreadyLaunched(IdsStep: string) {\r\n        return this.steps.filter(step => IdsStep === step.idStep).length > 0;\r\n    }\r\n}\r\n","export default \"::ng-deep.mat-stepper-horizontal {\\n  height: 100% !important;\\n}\\n\\n.container {\\n  padding-left: 80px !important;\\n  padding-right: 80px !important;\\n}\\n\\n.previousStepButton {\\n  position: fixed;\\n  top: 50%;\\n  left: 10px;\\n  transform: translateY(-50%);\\n}\\n\\n.previousStepButton .mat-icon {\\n  font-size: 25px;\\n  height: auto;\\n  width: auto;\\n}\\n\\n.nextStepButton {\\n  position: fixed;\\n  top: 50%;\\n  right: 13px;\\n  transform: translateY(-50%);\\n}\\n\\n.nextStepButton .mat-icon {\\n  font-size: 25px;\\n  height: auto;\\n  width: auto;\\n}\\n\\n/*.mat-stepper-horizontal {\\n    display: flex;\\n    flex-direction: column;\\n\\n\\n    ::ng-deep.mat-step-icon {\\n        background-color: white;\\n        color: #135f7f;\\n    }\\n\\n    ::ng-deep.mat-step-label {\\n        color: white;\\n        opacity: 0.5;\\n    }\\n\\n    ::ng-deep.mat-step-label-active {\\n        opacity: 1;\\n    }\\n}\\n\\n::ng-deep.mat-step-icon {\\n    background-color: white;\\n    color: #135f7f;\\n}\\n\\n::ng-deep.mat-step-label-active {\\n    opacity: 1;\\n}\\n\\n::ng-deep.mat-step-label {\\n    color: white;\\n    opacity: 0.5;\\n}\\n\\n.stepIcon {\\n    font-size: 10px !important;\\n    height: auto !important;\\n    width: auto !important;\\n}\\n\\n::ng-deep.mat-step-label {\\n    transition: all 0.2s;\\n}\\n\\n::ng-deep.mat-step-label-selected {\\n    font-size: 160%;\\n    transition: all 0.2s;\\n}\\n\\n::ng-deep.mat-horizontal-stepper-content {\\n    height: 100%;\\n}\\n\\n::ng-deep.mat-horizontal-content-container {\\n    flex: 1;\\n    padding-left: 0px !important;\\n    padding-right: 0px !important;\\n    padding-bottom: 0px !important;\\n}\\n\\n.stepContainer{\\n    display: flex;\\n    flex-direction: column;\\n    height: 100%;\\n}\\n\\n.stepContent {\\n    flex: 1;\\n    overflow: auto;\\n\\n    &Title {\\n        margin-bottom: 30px;\\n        border-bottom: solid 1px;\\n        padding: 0;\\n    }\\n}\\n\\n.formStep {\\n    display: contents;\\n}*/\\n\\n::ng-deep.mat-step-icon {\\n  background-color: white;\\n  color: #135f7f;\\n}\\n\\n::ng-deep.mat-step-label-active {\\n  opacity: 1 !important;\\n}\\n\\n::ng-deep.mat-step-label {\\n  color: white;\\n  opacity: 0.5;\\n}\\n\\n.stepIcon {\\n  font-size: 10px !important;\\n  height: auto !important;\\n  width: auto !important;\\n}\\n\\n::ng-deep.mat-step-label {\\n  transition: all 0.2s;\\n}\\n\\n::ng-deep.mat-step-label-selected {\\n  font-size: 160%;\\n  transition: all 0.2s;\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2luc3RhbGxlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSw2QkFBQTtFQUNBLDhCQUFBO0FBQ0o7O0FBRUE7RUFDSSxlQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSwyQkFBQTtBQUNKOztBQUNJO0VBQ0ksZUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBQ1I7O0FBR0E7RUFDSSxlQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSwyQkFBQTtBQUFKOztBQUVJO0VBQ0ksZUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBQVI7O0FBR0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFBQTs7QUFpRkE7RUFDSSx1QkFBQTtFQUNBLGNBQUE7QUFESjs7QUFJQTtFQUNJLHFCQUFBO0FBREo7O0FBSUE7RUFDSSxZQUFBO0VBQ0EsWUFBQTtBQURKOztBQUlBO0VBQ0ksMEJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBREo7O0FBSUE7RUFDSSxvQkFBQTtBQURKOztBQUlBO0VBQ0ksZUFBQTtFQUNBLG9CQUFBO0VBQ0EsVUFBQTtBQURKIiwiZmlsZSI6InNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2luc3RhbGxlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcC5tYXQtc3RlcHBlci1ob3Jpem9udGFsIHtcclxuICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmctbGVmdDogODBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1yaWdodDogODBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucHJldmlvdXNTdGVwQnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbGVmdDogMTBweDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuXHJcbiAgICAubWF0LWljb24ge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgICAgICBoZWlnaHQ6YXV0bztcclxuICAgICAgICB3aWR0aDogYXV0bztcclxuICAgIH1cclxufVxyXG5cclxuLm5leHRTdGVwQnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgcmlnaHQ6IDEzcHg7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcblxyXG4gICAgLm1hdC1pY29uIHtcclxuICAgICAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICAgICAgaGVpZ2h0OmF1dG87XHJcbiAgICAgICAgd2lkdGg6IGF1dG87XHJcbiAgICB9XHJcbn1cclxuLyoubWF0LXN0ZXBwZXItaG9yaXpvbnRhbCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcblxyXG4gICAgOjpuZy1kZWVwLm1hdC1zdGVwLWljb24ge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIGNvbG9yOiAjMTM1ZjdmO1xyXG4gICAgfVxyXG5cclxuICAgIDo6bmctZGVlcC5tYXQtc3RlcC1sYWJlbCB7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIH1cclxuXHJcbiAgICA6Om5nLWRlZXAubWF0LXN0ZXAtbGFiZWwtYWN0aXZlIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgfVxyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LXN0ZXAtaWNvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGNvbG9yOiAjMTM1ZjdmO1xyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LXN0ZXAtbGFiZWwtYWN0aXZlIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbjo6bmctZGVlcC5tYXQtc3RlcC1sYWJlbCB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbn1cclxuXHJcbi5zdGVwSWNvbiB7XHJcbiAgICBmb250LXNpemU6IDEwcHggIWltcG9ydGFudDtcclxuICAgIGhlaWdodDogYXV0byAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IGF1dG8gIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwLm1hdC1zdGVwLWxhYmVsIHtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LXN0ZXAtbGFiZWwtc2VsZWN0ZWQge1xyXG4gICAgZm9udC1zaXplOiAxNjAlO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XHJcbn1cclxuXHJcbjo6bmctZGVlcC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LWhvcml6b250YWwtY29udGVudC1jb250YWluZXIge1xyXG4gICAgZmxleDogMTtcclxuICAgIHBhZGRpbmctbGVmdDogMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAwcHggIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLnN0ZXBDb250YWluZXJ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnN0ZXBDb250ZW50IHtcclxuICAgIGZsZXg6IDE7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuXHJcbiAgICAmVGl0bGUge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5mb3JtU3RlcCB7XHJcbiAgICBkaXNwbGF5OiBjb250ZW50cztcclxufSovXHJcblxyXG46Om5nLWRlZXAubWF0LXN0ZXAtaWNvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGNvbG9yOiAjMTM1ZjdmO1xyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LXN0ZXAtbGFiZWwtYWN0aXZlIHtcclxuICAgIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcclxufVxyXG5cclxuOjpuZy1kZWVwLm1hdC1zdGVwLWxhYmVsIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG9wYWNpdHk6IDAuNTtcclxufVxyXG5cclxuLnN0ZXBJY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMTBweCAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46Om5nLWRlZXAubWF0LXN0ZXAtbGFiZWwge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XHJcbn1cclxuXHJcbjo6bmctZGVlcC5tYXQtc3RlcC1sYWJlbC1zZWxlY3RlZCB7XHJcbiAgICBmb250LXNpemU6IDE2MCU7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxuICAgIG9wYWNpdHk6IDE7XHJcbn0iXX0= */\";","export default \".stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2RvY3NlcnZlcnMvZG9jc2VydmVycy5jb21wb25lbnQuc2NzcyIsInNyYy9mcm9udGVuZC9jc3MvdmFycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUksWUFBQTtBQUZKO0FBR0k7RUFDSSxjQ0xFO0VETUYsbUJBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7QUFEUiIsImZpbGUiOiJzcmMvZnJvbnRlbmQvYXBwL2luc3RhbGxlci9kb2NzZXJ2ZXJzL2RvY3NlcnZlcnMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi9jc3MvdmFycy5zY3NzJztcclxuXHJcbi5zdGVwQ29udGVudCB7XHJcbiAgICAvLyBtYXgtd2lkdGg6IDg1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgLnN0ZXBDb250ZW50VGl0bGUge1xyXG4gICAgICAgIGNvbG9yOiAkcHJpbWFyeTtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweDtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCIkY29sb3ItbWFpbjogIzRGNEY0RjsgLy8gZGVmYXVsdCBjb2xvciBpbiBhcHBsaWNhdGlvblxyXG4kcHJpbWFyeTogIzEzNWY3ZjsgLy8gbWFpbiBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG4kc2Vjb25kYXJ5OiAjRjk5ODMwOyAvLyBtYWluIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcbiRhY2NlbnQ6ICMwMDY4NDE7IC8vIGFjY2VudCBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvbiAobGlrZSBzdWNjZXNzIGJ1dHRvbnMpXHJcbiR3YXJuOiAjOGUzZTUyOyAvLyB3YXJuaW5nIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcblxyXG4vLyBXQVJOSU5HICEgWU9VIE1VU1QgUkVDT01QSUxBVEUgbWFhcmNoLW1hdGVyaWFsLnNjc3MgSUYgVkFMVUVTIENIQU5HRVMiXX0= */\";","import { Component, OnInit, ViewChildren, QueryList } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { NotificationService } from '@service/notification/notification.service';\r\nimport { of } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { catchError, tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'app-prerequisite',\r\n    templateUrl: './prerequisite.component.html',\r\n    styleUrls: ['./prerequisite.component.scss']\r\n})\r\nexport class PrerequisiteComponent implements OnInit {\r\n\r\n    stepFormGroup: FormGroup;\r\n\r\n    prerequisites: any = {};\r\n\r\n    packagesList: any = {\r\n        general: [\r\n            {\r\n                label: 'phpVersionValid',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'writable',\r\n                required: true\r\n            },\r\n        ],\r\n        tools: [\r\n            {\r\n                label: 'unoconv',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'netcatOrNmap',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'pgsql',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'curl',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'zip',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'wkhtmlToPdf',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'imagick',\r\n                required: true\r\n            },\r\n\r\n        ],\r\n        phpExtensions: [\r\n            {\r\n                label: 'fileinfo',\r\n                required: true\r\n            }, {\r\n                label: 'pdoPgsql',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'gd',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'mbstring',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'json',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'gettext',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'xml',\r\n                required: true\r\n            },\r\n        ],\r\n        phpConfiguration: [\r\n            {\r\n                label: 'errorReporting',\r\n                required: true\r\n            },\r\n            {\r\n                label: 'displayErrors',\r\n                required: true\r\n            }\r\n        ],\r\n    };\r\n\r\n    docMaarchUrl: string = `https://docs.maarch.org/gitbook/html/MaarchCourrier/${environment.VERSION.split('.')[0] + '.' + environment.VERSION.split('.')[1]}/guat/guat_prerequisites/home.html`;\r\n\r\n    @ViewChildren('packageItem') packageItem: QueryList<any>;\r\n\r\n    constructor(\r\n        public translate: TranslateService,\r\n        public http: HttpClient,\r\n        private notify: NotificationService,\r\n        private _formBuilder: FormBuilder\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.stepFormGroup = this._formBuilder.group({\r\n            firstCtrl: ['', Validators.required]\r\n        });\r\n        this.getStepData();\r\n    }\r\n\r\n    getStepData() {\r\n        this.http.get(`../rest/installer/prerequisites`).pipe(\r\n            tap((data: any) => {\r\n                this.prerequisites = data.prerequisites;\r\n                Object.keys(this.packagesList).forEach(group => {\r\n                    this.packagesList[group].forEach((item: any, key: number) => {\r\n                        this.packagesList[group][key].state = this.prerequisites[this.packagesList[group][key].label] ? 'ok' : 'ko';\r\n                        if (this.packagesList[group][key].label === 'phpVersionValid') {\r\n                            this.translate.setTranslation(this.translate.getDefaultLang(), {\r\n                                lang: {\r\n                                    install_phpVersionValid_desc: this.translate.instant('lang.currentVersion') + ' : ' + this.prerequisites['phpVersion']\r\n                                }\r\n                            }, true);\r\n                        }\r\n                    });\r\n                });\r\n                this.stepFormGroup.controls['firstCtrl'].setValue(this.checkStep());\r\n                this.stepFormGroup.controls['firstCtrl'].markAsUntouched();\r\n            }),\r\n            catchError((err: any) => {\r\n                this.notify.handleSoftErrors(err);\r\n                return of(false);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    initStep() {\r\n        let i = 0;\r\n        Object.keys(this.packagesList).forEach(group => {\r\n            this.packagesList[group].forEach((item: any, key: number) => {\r\n                if (this.packagesList[group][key].state === 'ko') {\r\n                    this.packageItem.toArray().filter((itemKo: any) => itemKo._elementRef.nativeElement.id === this.packagesList[group][key].label)[0].toggle();\r\n                }\r\n                i++;\r\n            });\r\n        });\r\n    }\r\n\r\n    checkStep() {\r\n        let state = 'success';\r\n        Object.keys(this.packagesList).forEach((group: any) => {\r\n            this.packagesList[group].forEach((item: any) => {\r\n                if (item.state === 'ko') {\r\n                    state = '';\r\n                }\r\n            });\r\n        });\r\n        return state;\r\n    }\r\n\r\n    isValidStep() {\r\n        return this.stepFormGroup === undefined ? false : this.stepFormGroup.controls['firstCtrl'].value === 'success';\r\n    }\r\n\r\n    getFormGroup() {\r\n        return this.stepFormGroup;\r\n    }\r\n\r\n    getInfoToInstall(): any[] {\r\n        return [];\r\n    }\r\n}\r\n","export default \"<div class=\\\"mat-dialog-content-container\\\">\\r\\n    <div mat-dialog-content [@.disabled]=\\\"disableAnimation\\\">\\r\\n        <mat-accordion>\\r\\n            <mat-expansion-panel hideToggle expanded>\\r\\n                <div class=\\\"launch-action\\\">\\r\\n                    <h2 class=\\\"text-center\\\" color=\\\"primary\\\">{{'lang.almostThere' | translate}}</h2>\\r\\n                    <button mat-raised-button type=\\\"button\\\" color=\\\"primary\\\"\\r\\n                        (click)=\\\"installStepAction.open();launchInstall()\\\" style=\\\"font-size: 25px;padding: 20px;\\\">\\r\\n                        <i class=\\\" far fa-hdd\\\"></i> {{'lang.launchInstall' | translate}}\\r\\n                    </button>\\r\\n                </div>\\r\\n            </mat-expansion-panel>\\r\\n            <mat-expansion-panel #installStepAction [expanded]=\\\"false\\\">\\r\\n                <mat-list-item *ngFor=\\\"let step of steps\\\">\\r\\n                    <div mat-line class=\\\"step\\\" [class.endStep]=\\\"step.state==='OK' || step.state==='KO'\\\"\\r\\n                        [class.currentStep]=\\\"step.state==='inProgress'\\\"><span class=\\\"stepLabel\\\">{{step.label}}</span>\\r\\n                        <ng-container *ngIf=\\\"step.state==='inProgress'\\\">...</ng-container>&nbsp;\\r\\n                        <i *ngIf=\\\"step.state==='OK'\\\" class=\\\"fa fa-check\\\" style=\\\"color: green\\\"></i>\\r\\n                        <i *ngIf=\\\"step.state==='KO'\\\" class=\\\"fa fa-times\\\" style=\\\"color: red\\\"></i>\\r\\n                        <div *ngIf=\\\"step.msgErr!==''\\\" class=\\\"alert-message alert-message-danger\\\" role=\\\"alert\\\"\\r\\n                            style=\\\"margin-top: 30px;min-width: 100%;\\\">\\r\\n                            {{step.msgErr}}\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </mat-list-item>\\r\\n            </mat-expansion-panel>\\r\\n        </mat-accordion>\\r\\n    </div>\\r\\n    <ng-container *ngIf=\\\"isInstallComplete() || isInstallError() || !isInstallBegin()\\\">\\r\\n        <span class=\\\"divider-modal\\\"></span>\\r\\n        <div mat-dialog-actions class=\\\"actions\\\">\\r\\n            <button *ngIf=\\\"!isInstallError() && isInstallComplete()\\\" mat-raised-button mat-button color=\\\"primary\\\"\\r\\n                (click)=\\\"goToInstance()\\\">{{'lang.goToNewInstance' | translate}}</button>\\r\\n            <button *ngIf=\\\"isInstallError() || !isInstallBegin()\\\" mat-raised-button mat-button [mat-dialog-close]=\\\"\\\">{{'lang.cancel' | translate}}</button>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n</div>\";","export default \"@charset \\\"UTF-8\\\";\\n.stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n.packageItem {\\n  flex: 1 !important;\\n}\\n.iconCheckPackage {\\n  background: white;\\n  font-size: 15px !important;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 10px;\\n  border-radius: 20px;\\n  height: 35px;\\n  width: 35px;\\n}\\n.icon_ok {\\n  color: green;\\n}\\n.icon_ok:before {\\n  content: \\\"\\\";\\n}\\n.icon_warning {\\n  color: orange;\\n}\\n.icon_warning:before {\\n  content: \\\"\\\";\\n}\\n.icon_ko {\\n  color: red;\\n}\\n.icon_ko:before {\\n  content: \\\"\\\";\\n}\\n.link {\\n  text-decoration: underline;\\n  color: #135f7f !important;\\n}\\n.packageName {\\n  font-size: 120% !important;\\n  white-space: normal !important;\\n}\\n.packageName i {\\n  cursor: help;\\n  opacity: 0.5;\\n  color: #135f7f;\\n}\\n::ng-deep.tooltip-red {\\n  background: #b71c1c;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL3ByZXJlcXVpc2l0ZS9wcmVyZXF1aXNpdGUuY29tcG9uZW50LnNjc3MiLCJzcmMvZnJvbnRlbmQvY3NzL3ZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFFaEI7RUFFSSxZQUFBO0FBREo7QUFHSTtFQUNJLGNDTkU7RURPRixtQkFBQTtFQUNBLHdCQUFBO0VBQ0EsVUFBQTtBQURSO0FBS0E7RUFDSSxrQkFBQTtBQUZKO0FBS0E7RUFDSSxpQkFBQTtFQUNBLDBCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQUZKO0FBS0E7RUFDSSxZQUFBO0FBRko7QUFLQTtFQUNJLFlBQUE7QUFGSjtBQUtBO0VBQ0ksYUFBQTtBQUZKO0FBS0E7RUFDSSxZQUFBO0FBRko7QUFNQTtFQUNJLFVBQUE7QUFISjtBQU1BO0VBQ0ksWUFBQTtBQUhKO0FBTUE7RUFDSSwwQkFBQTtFQUNBLHlCQUFBO0FBSEo7QUFNQTtFQUNJLDBCQUFBO0VBQ0EsOEJBQUE7QUFISjtBQUlJO0VBQ0ksWUFBQTtFQUNBLFlBQUE7RUFDQSxjQ2pFRTtBRCtEVjtBQU1BO0VBQ0ksbUJBQUE7RUFDQSxlQUFBO0FBSEoiLCJmaWxlIjoic3JjL2Zyb250ZW5kL2FwcC9pbnN0YWxsZXIvcHJlcmVxdWlzaXRlL3ByZXJlcXVpc2l0ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBjaGFyc2V0IFwiVVRGLThcIjtcbi5zdGVwQ29udGVudCB7XG4gIG1hcmdpbjogYXV0bztcbn1cbi5zdGVwQ29udGVudCAuc3RlcENvbnRlbnRUaXRsZSB7XG4gIGNvbG9yOiAjMTM1ZjdmO1xuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHg7XG4gIHBhZGRpbmc6IDA7XG59XG5cbi5wYWNrYWdlSXRlbSB7XG4gIGZsZXg6IDEgIWltcG9ydGFudDtcbn1cblxuLmljb25DaGVja1BhY2thZ2Uge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBoZWlnaHQ6IDM1cHg7XG4gIHdpZHRoOiAzNXB4O1xufVxuXG4uaWNvbl9vayB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmljb25fb2s6YmVmb3JlIHtcbiAgY29udGVudDogXCLvhJFcIjtcbn1cblxuLmljb25fd2FybmluZyB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG5cbi5pY29uX3dhcm5pbmc6YmVmb3JlIHtcbiAgY29udGVudDogXCLvhJFcIjtcbn1cblxuLmljb25fa28ge1xuICBjb2xvcjogcmVkO1xufVxuXG4uaWNvbl9rbzpiZWZvcmUge1xuICBjb250ZW50OiBcIu+EkVwiO1xufVxuXG4ubGluayB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBjb2xvcjogIzEzNWY3ZiAhaW1wb3J0YW50O1xufVxuXG4ucGFja2FnZU5hbWUge1xuICBmb250LXNpemU6IDEyMCUgIWltcG9ydGFudDtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbCAhaW1wb3J0YW50O1xufVxuLnBhY2thZ2VOYW1lIGkge1xuICBjdXJzb3I6IGhlbHA7XG4gIG9wYWNpdHk6IDAuNTtcbiAgY29sb3I6ICMxMzVmN2Y7XG59XG5cbjo6bmctZGVlcC50b29sdGlwLXJlZCB7XG4gIGJhY2tncm91bmQ6ICNiNzFjMWM7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn0iLCIkY29sb3ItbWFpbjogIzRGNEY0RjsgLy8gZGVmYXVsdCBjb2xvciBpbiBhcHBsaWNhdGlvblxyXG4kcHJpbWFyeTogIzEzNWY3ZjsgLy8gbWFpbiBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG4kc2Vjb25kYXJ5OiAjRjk5ODMwOyAvLyBtYWluIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcbiRhY2NlbnQ6ICMwMDY4NDE7IC8vIGFjY2VudCBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvbiAobGlrZSBzdWNjZXNzIGJ1dHRvbnMpXHJcbiR3YXJuOiAjOGUzZTUyOyAvLyB3YXJuaW5nIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcblxyXG4vLyBXQVJOSU5HICEgWU9VIE1VU1QgUkVDT01QSUxBVEUgbWFhcmNoLW1hdGVyaWFsLnNjc3MgSUYgVkFMVUVTIENIQU5HRVMiXX0= */\";","export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\"><i class=\\\"fa fa-database\\\"></i> {{'lang.database' | translate}}</h2>\\r\\n    <div class=\\\"alert-message alert-message-info\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\">\\r\\n        {{'lang.stepDatabase_desc' | translate}}\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"stepFormGroup\\\" style=\\\"width: 850px;margin: auto;\\\">\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.host' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"dbHostCtrl\\\" required>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.port' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"dbPortCtrl\\\"  required>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.user' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"dbLoginCtrl\\\" required>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.password' | translate}}</mat-label>\\r\\n            <input [type]=\\\"hide ? 'password' : 'text'\\\" matInput formControlName=\\\"dbPasswordCtrl\\\" required>\\r\\n            <button mat-icon-button matSuffix color=\\\"primary\\\" (click)=\\\"hide = !hide\\\">\\r\\n                <mat-icon class=\\\"fa {{hide ? 'fa-eye-slash' : 'fa-eye'}}\\\"></mat-icon>\\r\\n            </button>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n            <mat-label>{{'lang.dbName' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"dbNameCtrl\\\" maxlength=\\\"50\\\" required>\\r\\n        </mat-form-field>\\r\\n        <div class=\\\"alert-message alert-message-info\\\" *ngIf=\\\"dbExist\\\" role=\\\"alert\\\" style=\\\"margin-top: 0px;min-width: 100%;\\\">\\r\\n            {{'lang.stepEmptyDb' | translate}}\\r\\n        </div>\\r\\n        <mat-form-field appearance=\\\"outline\\\" floatLabel=\\\"never\\\">\\r\\n            <mat-label>{{'lang.dbSample' | translate}}</mat-label>\\r\\n            <mat-select formControlName=\\\"dbSampleCtrl\\\">\\r\\n                <mat-option *ngFor=\\\"let sample of dataFiles\\\" [value]=\\\"sample\\\">\\r\\n                    {{sample}}\\r\\n                </mat-option>\\r\\n            </mat-select>\\r\\n        </mat-form-field>\\r\\n        <div style=\\\"text-align:center;\\\">\\r\\n            <button mat-raised-button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"checkConnection()\\\" [disabled]=\\\"isEmptyConnInfo() || stepFormGroup.controls['dbHostCtrl'].disabled\\\">\\r\\n                {{'lang.checkInformations' | translate}}\\r\\n            </button>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\";","export default \".stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL3VzZXJhZG1pbi91c2VyYWRtaW4uY29tcG9uZW50LnNjc3MiLCJzcmMvZnJvbnRlbmQvY3NzL3ZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUVJLFlBQUE7QUFGSjtBQUlJO0VBQ0ksY0NORTtFRE9GLG1CQUFBO0VBQ0Esd0JBQUE7RUFDQSxVQUFBO0FBRlIiLCJmaWxlIjoic3JjL2Zyb250ZW5kL2FwcC9pbnN0YWxsZXIvdXNlcmFkbWluL3VzZXJhZG1pbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uL2Nzcy92YXJzLnNjc3MnO1xyXG5cclxuLnN0ZXBDb250ZW50IHtcclxuICAgIC8vIG1heC13aWR0aDogODUwcHg7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcblxyXG4gICAgLnN0ZXBDb250ZW50VGl0bGUge1xyXG4gICAgICAgIGNvbG9yOiAkcHJpbWFyeTtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweDtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG59IiwiJGNvbG9yLW1haW46ICM0RjRGNEY7IC8vIGRlZmF1bHQgY29sb3IgaW4gYXBwbGljYXRpb25cclxuJHByaW1hcnk6ICMxMzVmN2Y7IC8vIG1haW4gY29sb3IgdGhlbWUgb2YgYXBwbGljYXRpb25cclxuJHNlY29uZGFyeTogI0Y5OTgzMDsgLy8gbWFpbiBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG4kYWNjZW50OiAjMDA2ODQxOyAvLyBhY2NlbnQgY29sb3IgdGhlbWUgb2YgYXBwbGljYXRpb24gKGxpa2Ugc3VjY2VzcyBidXR0b25zKVxyXG4kd2FybjogIzhlM2U1MjsgLy8gd2FybmluZyBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG5cclxuLy8gV0FSTklORyAhIFlPVSBNVVNUIFJFQ09NUElMQVRFIG1hYXJjaC1tYXRlcmlhbC5zY3NzIElGIFZBTFVFUyBDSEFOR0VTIl19 */\";","export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\"><i class=\\\"fas fa-check-square\\\"></i> {{'lang.prerequisite' | translate}}</h2>\\r\\n    <div class=\\\"alert-message alert-message-info\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\">\\r\\n        {{'lang.stepPrerequisite_desc' | translate}} : <a href=\\\"{{docMaarchUrl}}\\\" target=\\\"_blank\\\" class=\\\"link\\\">{{docMaarchUrl}}</a>\\r\\n    </div>\\r\\n    <mat-list style=\\\"background: white;\\\" *ngFor=\\\"let groupPackage of packagesList | keyvalue\\\">\\r\\n        <div mat-subheader>{{'lang.' + groupPackage.key | translate}}</div>\\r\\n        <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"50px\\\">\\r\\n            <mat-grid-tile *ngFor=\\\"let package of packagesList[groupPackage.key]\\\">\\r\\n                <mat-list-item>\\r\\n                    <mat-icon mat-list-icon class=\\\"fa iconCheckPackage icon_{{package.state}}\\\"></mat-icon>\\r\\n                    <div mat-line class=\\\"packageName\\\">\\r\\n                        {{'lang.install_' + package.label | translate}} <i #packageItem=\\\"matTooltip\\\" [id]=\\\"package.label\\\" class=\\\"fa fa-info-circle\\\" \\r\\n                        [matTooltip]=\\\"'lang.install_'+package.label+'_desc' | translate\\\"\\r\\n                        [matTooltipClass]=\\\"package.state !== 'ok' ? 'tooltip-red' : ''\\\" matTooltipPosition=\\\"right\\\"></i>\\r\\n                    </div>\\r\\n                </mat-list-item>  \\r\\n            </mat-grid-tile>\\r\\n          </mat-grid-list>\\r\\n    </mat-list>\\r\\n    <div style=\\\"text-align: center;\\\">\\r\\n        <button mat-raised-button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"getStepData()\\\">{{'lang.updateInformations' | translate}}</button>\\r\\n    </div>\\r\\n</div>\\r\\n\";","export default \".stepContent {\\n  margin: auto;\\n}\\n.stepContent .stepContentTitle {\\n  color: #135f7f;\\n  margin-bottom: 30px;\\n  border-bottom: solid 1px;\\n  padding: 0;\\n}\\n.backgroundList {\\n  display: grid;\\n  grid-template-columns: repeat(5, 1fr);\\n  grid-gap: 10px;\\n}\\n.selected {\\n  transition: all 0.3s;\\n  opacity: 1 !important;\\n  border: solid 10px #F99830 !important;\\n}\\n.backgroundItem {\\n  border: solid 0px #F99830;\\n  opacity: 0.5;\\n  transition: all 0.3s;\\n  cursor: pointer;\\n  height: 120px;\\n  background-size: cover !important;\\n}\\n.backgroundItem:hover {\\n  transition: all 0.3s;\\n  opacity: 1 !important;\\n}\\n.bash {\\n  background: #34495e;\\n  height: 310px;\\n  border-radius: 5px;\\n  top: 40px;\\n  display: absolute;\\n  color: #fff;\\n  padding: 10px;\\n  margin: 10px;\\n}\\nmat-drawer-container {\\n  background: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL21haWxzZXJ2ZXIvbWFpbHNlcnZlci5jb21wb25lbnQuc2NzcyIsInNyYy9mcm9udGVuZC9jc3MvdmFycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBRUksWUFBQTtBQUhKO0FBS0k7RUFDSSxjQ1BFO0VEUUYsbUJBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7QUFIUjtBQU9BO0VBQ0ksYUFBQTtFQUNBLHFDQUFBO0VBQ0EsY0FBQTtBQUpKO0FBT0E7RUFDSSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EscUNBQUE7QUFKSjtBQU9BO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLGlDQUFBO0FBSko7QUFPQTtFQUNJLG9CQUFBO0VBQ0EscUJBQUE7QUFKSjtBQU9BO0VBQ0ksbUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7QUFKSjtBQU9BO0VBQ0ksMkJBQUE7QUFKSiIsImZpbGUiOiJzcmMvZnJvbnRlbmQvYXBwL2luc3RhbGxlci9tYWlsc2VydmVyL21haWxzZXJ2ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi9jc3MvdmFycy5zY3NzJztcclxuXHJcblxyXG4uc3RlcENvbnRlbnQge1xyXG4gICAgLy8gbWF4LXdpZHRoOiA4NTBweDtcclxuICAgIG1hcmdpbjogYXV0bztcclxuXHJcbiAgICAuc3RlcENvbnRlbnRUaXRsZSB7XHJcbiAgICAgICAgY29sb3I6ICRwcmltYXJ5O1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5iYWNrZ3JvdW5kTGlzdCB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNSwgMWZyKTtcclxuICAgIGdyaWQtZ2FwOiAxMHB4O1xyXG59XHJcblxyXG4uc2VsZWN0ZWQge1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXI6IHNvbGlkIDEwcHggJHNlY29uZGFyeSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmFja2dyb3VuZEl0ZW0ge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAwcHggJHNlY29uZGFyeTtcclxuICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgaGVpZ2h0OiAxMjBweDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmJhY2tncm91bmRJdGVtOmhvdmVyIHtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzO1xyXG4gICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmFzaCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMzQ0OTVlO1xyXG4gICAgaGVpZ2h0OiAzMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHRvcDogNDBweDtcclxuICAgIGRpc3BsYXk6IGFic29sdXRlO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luOiAxMHB4O1xyXG59XHJcblxyXG5tYXQtZHJhd2VyLWNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7XHJcbn0iLCIkY29sb3ItbWFpbjogIzRGNEY0RjsgLy8gZGVmYXVsdCBjb2xvciBpbiBhcHBsaWNhdGlvblxyXG4kcHJpbWFyeTogIzEzNWY3ZjsgLy8gbWFpbiBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvblxyXG4kc2Vjb25kYXJ5OiAjRjk5ODMwOyAvLyBtYWluIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcbiRhY2NlbnQ6ICMwMDY4NDE7IC8vIGFjY2VudCBjb2xvciB0aGVtZSBvZiBhcHBsaWNhdGlvbiAobGlrZSBzdWNjZXNzIGJ1dHRvbnMpXHJcbiR3YXJuOiAjOGUzZTUyOyAvLyB3YXJuaW5nIGNvbG9yIHRoZW1lIG9mIGFwcGxpY2F0aW9uXHJcblxyXG4vLyBXQVJOSU5HICEgWU9VIE1VU1QgUkVDT01QSUxBVEUgbWFhcmNoLW1hdGVyaWFsLnNjc3MgSUYgVkFMVUVTIENIQU5HRVMiXX0= */\";","export default \"<mat-sidenav-container autosize class=\\\"maarch-container\\\">\\r\\n    <mat-sidenav-content>\\r\\n        <div class=\\\"bg-head\\\">\\r\\n            <div class=\\\"bg-head-content\\\" [class.fullContainer]=\\\"appService.getViewMode()\\\">\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"container\\\" [class.fullContainer]=\\\"appService.getViewMode()\\\">\\r\\n            <div class=\\\"container-content\\\" style=\\\"overflow: hidden;\\\">\\r\\n                <mat-horizontal-stepper [@.disabled]=\\\"true\\\" *ngIf=\\\"!loading\\\" linear #stepper style=\\\"height: 100vh;overflow: auto;\\\" (selectionChange)=\\\"initStep($event)\\\">\\r\\n                    <mat-step label=\\\"install\\\">\\r\\n                        <ng-template matStepLabel>Installation</ng-template>\\r\\n                        <div class=\\\"stepContainer\\\">\\r\\n                            <div class=\\\"stepContent\\\">\\r\\n                                <app-welcome #stepContent #appWelcome></app-welcome>\\r\\n                            </div>\\r\\n                            <button *ngIf=\\\"!authService.noInstall\\\" mat-fab [title]=\\\"'lang.home' | translate\\\" class=\\\"previousStepButton\\\" color=\\\"primary\\\" (click)=\\\"gotToLogin()\\\">\\r\\n                                <mat-icon class=\\\"fas fa-home\\\"></mat-icon>\\r\\n                            </button>\\r\\n                            <button mat-fab matStepperNext [title]=\\\"'lang.next' | translate\\\" class=\\\"nextStepButton\\\" color=\\\"primary\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-right\\\"></mat-icon>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </mat-step>\\r\\n                    <mat-step [stepControl]=\\\"appPrerequisite.getFormGroup()\\\">\\r\\n                        <ng-template matStepLabel>{{'lang.prerequisite' | translate}}</ng-template>\\r\\n                        <div class=\\\"stepContainer\\\">\\r\\n                            <div class=\\\"stepContent\\\">\\r\\n                                <app-prerequisite #appPrerequisite #stepContent></app-prerequisite>\\r\\n                            </div>\\r\\n                            <button mat-fab matStepperPrevious [title]=\\\"'lang.previous' | translate\\\" class=\\\"previousStepButton\\\" color=\\\"primary\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-left\\\"></mat-icon>\\r\\n                            </button>\\r\\n                            <button mat-fab matStepperNext [title]=\\\"'lang.next' | translate\\\" class=\\\"nextStepButton\\\" color=\\\"primary\\\" [disabled]=\\\"!appPrerequisite.isValidStep()\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-right\\\"></mat-icon>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </mat-step>\\r\\n                    <mat-step [stepControl]=\\\"appDatabase.getFormGroup()\\\">\\r\\n                        <ng-template matStepLabel>{{'lang.database' | translate}}</ng-template>\\r\\n                        <div class=\\\"stepContainer\\\">\\r\\n                            <div class=\\\"stepContent\\\">\\r\\n                                <app-database #appDatabase #stepContent (nextStep)=\\\"nextStep()\\\"></app-database>\\r\\n                            </div>\\r\\n                            <button mat-fab matStepperPrevious [title]=\\\"'lang.previous' | translate\\\" class=\\\"previousStepButton\\\" color=\\\"primary\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-left\\\"></mat-icon>\\r\\n                            </button>\\r\\n                            <button mat-fab matStepperNext [title]=\\\"'lang.next' | translate\\\" class=\\\"nextStepButton\\\" color=\\\"primary\\\" [disabled]=\\\"!appDatabase.isValidStep()\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-right\\\"></mat-icon>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </mat-step>\\r\\n                    <mat-step [stepControl]=\\\"appDocservers.getFormGroup()\\\">\\r\\n                        <ng-template matStepLabel>{{'lang.docserver' | translate}}</ng-template>\\r\\n                        <div class=\\\"stepContainer\\\">\\r\\n                            <div class=\\\"stepContent\\\">\\r\\n                                <app-docservers #appDocservers #stepContent (nextStep)=\\\"nextStep()\\\"></app-docservers>\\r\\n                            </div>\\r\\n                            <button mat-fab matStepperPrevious [title]=\\\"'lang.previous' | translate\\\" class=\\\"previousStepButton\\\" color=\\\"primary\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-left\\\"></mat-icon>\\r\\n                            </button>\\r\\n                            <button mat-fab matStepperNext [title]=\\\"'lang.next' | translate\\\" class=\\\"nextStepButton\\\" color=\\\"primary\\\" [disabled]=\\\"!appDocservers.isValidStep()\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-right\\\"></mat-icon>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </mat-step>\\r\\n                    <mat-step [stepControl]=\\\"appCustomization.getFormGroup()\\\">\\r\\n                        <ng-template matStepLabel>{{'lang.customization' | translate}}</ng-template>\\r\\n                        <div class=\\\"stepContainer\\\">\\r\\n                            <div class=\\\"stepContent\\\">\\r\\n                                <app-customization #appCustomization #stepContent [appDatabase]=\\\"appDatabase\\\" [appWelcome]=\\\"appWelcome\\\"></app-customization>\\r\\n                            </div>\\r\\n                            <button mat-fab matStepperPrevious [title]=\\\"'lang.previous' | translate\\\" class=\\\"previousStepButton\\\" color=\\\"primary\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-left\\\"></mat-icon>\\r\\n                            </button>\\r\\n                            <button mat-fab matStepperNext [title]=\\\"'lang.next' | translate\\\" class=\\\"nextStepButton\\\" color=\\\"primary\\\" [disabled]=\\\"!appCustomization.isValidStep()\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-right\\\"></mat-icon>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </mat-step>\\r\\n                    <mat-step [stepControl]=\\\"appUseradmin.getFormGroup()\\\">\\r\\n                        <ng-template matStepLabel>{{'lang.userAdmin' | translate}}</ng-template>\\r\\n                        <div class=\\\"stepContainer\\\">\\r\\n                            <div class=\\\"stepContent\\\">\\r\\n                                <app-useradmin #appUseradmin #stepContent (tiggerInstall)=\\\"endInstall()\\\"></app-useradmin>\\r\\n                            </div>\\r\\n                            <button mat-fab matStepperPrevious [title]=\\\"'lang.previous' | translate\\\" class=\\\"previousStepButton\\\" color=\\\"primary\\\">\\r\\n                                <mat-icon class=\\\"fa fa-arrow-left\\\"></mat-icon>\\r\\n                            </button>\\r\\n                            <button mat-fab [title]=\\\"'lang.beginInstall' | translate\\\" class=\\\"nextStepButton\\\" color=\\\"accent\\\" [disabled]=\\\"!appUseradmin.isValidStep()\\\" (click)=\\\"endInstall()\\\">\\r\\n                                <mat-icon class=\\\"fas fa-check-double\\\"></mat-icon>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </mat-step>\\r\\n                    <ng-template matStepperIcon=\\\"edit\\\">\\r\\n                        <mat-icon class=\\\"fa fa-check stepIcon\\\"></mat-icon>\\r\\n                    </ng-template>\\r\\n                \\r\\n                    <ng-template matStepperIcon=\\\"done\\\">\\r\\n                        <mat-icon class=\\\"fa fa-check stepIcon\\\"></mat-icon>\\r\\n                    </ng-template>\\r\\n                \\r\\n                    <ng-template matStepperIcon=\\\"error\\\">\\r\\n                        <mat-icon class=\\\"fa fa-times stepIcon\\\" style=\\\"color: red;font-size: 15px !important;\\\"></mat-icon>\\r\\n                    </ng-template>\\r\\n                </mat-horizontal-stepper>\\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-sidenav-content>\\r\\n</mat-sidenav-container>\";","export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\"><i class=\\\"fa fa-hdd\\\"></i> {{'lang.docserver' | translate}}</h2>\\r\\n    <div class=\\\"alert-message alert-message-info\\\" role=\\\"alert\\\" style=\\\"margin-top: 30px;min-width: 100%;\\\">\\r\\n        {{'lang.stepDocserver_desc' | translate}}\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"stepFormGroup\\\" style=\\\"width: 850px;margin: auto;\\\">\\r\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"color: initial;\\\">\\r\\n            <mat-label>{{'lang.docserverPath' | translate}}</mat-label>\\r\\n            <input matInput formControlName=\\\"docserversPath\\\">\\r\\n            <span matSuffix>/__CUSTOM_iD__/</span>\\r\\n        </mat-form-field>\\r\\n        <div style=\\\"text-align: center;\\\">\\r\\n            <button mat-raised-button type=\\\"button\\\" color=\\\"primary\\\" (click)=\\\"checkAvailability()\\\" [disabled]=\\\"!this.stepFormGroup.controls['docserversPath'].valid\\\">{{'lang.checkInformations' | translate}}</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\";","export default \".step {\\n  opacity: 0.5;\\n  transition: all 0.2s;\\n}\\n.step .stepLabel {\\n  transition: all 0.2s;\\n}\\n.currentStep {\\n  opacity: 1;\\n  transition: all 0.2s;\\n}\\n.currentStep .stepLabel {\\n  font-size: 150%;\\n  transition: all 0.2s;\\n}\\n.endStep {\\n  opacity: 1;\\n}\\n.mat-expansion-panel {\\n  box-shadow: none;\\n}\\n.launch-action {\\n  display: flex;\\n  flex-direction: column;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9mcm9udGVuZC9hcHAvaW5zdGFsbGVyL2luc3RhbGwtYWN0aW9uL2luc3RhbGwtYWN0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtFQUNBLG9CQUFBO0FBQ0o7QUFDSTtFQUNJLG9CQUFBO0FBQ1I7QUFHQTtFQUNJLFVBQUE7RUFPQSxvQkFBQTtBQU5KO0FBQ0k7RUFDSSxlQUFBO0VBQ0Esb0JBQUE7QUFDUjtBQUtBO0VBQ0ksVUFBQTtBQUZKO0FBS0E7RUFDSSxnQkFBQTtBQUZKO0FBS0E7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7QUFGSiIsImZpbGUiOiJzcmMvZnJvbnRlbmQvYXBwL2luc3RhbGxlci9pbnN0YWxsLWFjdGlvbi9pbnN0YWxsLWFjdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdGVwIHtcclxuICAgIG9wYWNpdHk6IDAuNTtcclxuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG5cclxuICAgIC5zdGVwTGFiZWwge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG4gICAgfVxyXG59XHJcblxyXG4uY3VycmVudFN0ZXAge1xyXG4gICAgb3BhY2l0eTogMTtcclxuXHJcbiAgICAuc3RlcExhYmVsIHtcclxuICAgICAgICBmb250LXNpemU6IDE1MCU7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XHJcbn1cclxuXHJcbi5lbmRTdGVwIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbi5tYXQtZXhwYW5zaW9uLXBhbmVsIHtcclxuICAgIGJveC1zaGFkb3c6IG5vbmU7XHJcbn1cclxuXHJcbi5sYXVuY2gtYWN0aW9uIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59Il19 */\";","export default \"<div class=\\\"stepContent\\\">\\r\\n    <h2 class=\\\"stepContentTitle\\\">{{'lang.welcomeApp' | translate:{value1: appVersion} }} !</h2>\\r\\n    <div style=\\\"text-align: center;\\\">\\r\\n        <mat-icon class=\\\"maarchLogoFull\\\" svgIcon=\\\"maarchLogoFull\\\"></mat-icon>\\r\\n    </div>\\r\\n    <form [formGroup]=\\\"stepFormGroup\\\" style=\\\"width: 850px;margin: auto;\\\">\\r\\n        <mat-form-field appearance=\\\"outline\\\" floatLabel=\\\"never\\\">\\r\\n            <mat-label>{{'lang.chooseAppLanguage' | translate}} : </mat-label>\\r\\n            <mat-select formControlName=\\\"lang\\\"  (selectionChange)=\\\"changeLang($event.value)\\\" required>\\r\\n                <mat-option *ngFor=\\\"let language of langs\\\" [value]=\\\"language\\\">\\r\\n                    {{'lang.' + language + 'Full' | translate}}\\r\\n                </mat-option>\\r\\n            </mat-select>\\r\\n        </mat-form-field>\\r\\n    </form>\\r\\n    <mat-divider></mat-divider>\\r\\n    <ng-container *ngIf=\\\"customs.length > 0\\\">\\r\\n        <mat-list>\\r\\n            <div mat-subheader>{{'lang.instancesList' | translate}} :\\r\\n            </div>\\r\\n            <mat-list-item *ngFor=\\\"let custom of customs\\\">\\r\\n                <mat-icon mat-list-icon color=\\\"primary\\\" class=\\\"fas fa-box-open\\\"></mat-icon>\\r\\n                <div mat-line>{{custom.label}} <small style=\\\"color: #666\\\">{{custom.id}}</small></div>\\r\\n            </mat-list-item>\\r\\n        </mat-list>\\r\\n        <mat-divider></mat-divider>\\r\\n    </ng-container>\\r\\n    <mat-list>\\r\\n        <div mat-subheader>{{'lang.installDescription' | translate}} :\\r\\n        </div>\\r\\n        <mat-list-item *ngFor=\\\"let step of steps\\\">\\r\\n            <mat-icon mat-list-icon color=\\\"primary\\\" [class]=\\\"step.icon\\\"></mat-icon>\\r\\n            <div mat-line>{{step.desc | translate}}</div>\\r\\n        </mat-list-item>\\r\\n    </mat-list>\\r\\n    <mat-divider></mat-divider>\\r\\n    <p>\\r\\n        {{'lang.externalInfoSite' | translate}} :\\r\\n    </p>\\r\\n    <a mat-raised-button color=\\\"primary\\\" href=\\\"https://community.maarch.org/\\\" target=\\\"_blank\\\">\\r\\n        community.maarch.org\\r\\n    </a>\\r\\n    {{'lang.or' | translate}}\\r\\n    <a mat-raised-button color=\\\"primary\\\" href=\\\"http://www.maarch.com\\\" target=\\\"_blank\\\">\\r\\n        www.maarch.com\\r\\n    </a>\\r\\n    <p style=\\\"font-style: italic;padding-top: 30px;text-align: right;\\\" [innerHTML]=\\\"'lang.maarchLicenceInstall' | translate\\\"></p>\\r\\n</div>\";"]}